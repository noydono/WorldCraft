{"remainingRequest":"/home/noydono/Documents/Git/WorldCraft/front/node_modules/babel-loader/lib/index.js!/home/noydono/Documents/Git/WorldCraft/front/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/home/noydono/Documents/Git/WorldCraft/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/noydono/Documents/Git/WorldCraft/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/noydono/Documents/Git/WorldCraft/front/src/views/Sujet_view.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/noydono/Documents/Git/WorldCraft/front/src/views/Sujet_view.vue","mtime":1619445364305},{"path":"/home/noydono/Documents/Git/WorldCraft/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/noydono/Documents/Git/WorldCraft/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/noydono/Documents/Git/WorldCraft/front/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/noydono/Documents/Git/WorldCraft/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/noydono/Documents/Git/WorldCraft/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvbm95ZG9uby9Eb2N1bWVudHMvR2l0L1dvcmxkQ3JhZnQvZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBTdGF0ZSwgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7CmltcG9ydCBWdWVKd3REZWNvZGUgZnJvbSAidnVlLWp3dC1kZWNvZGUiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmV3UmVwb25zZToge30sCiAgICAgIGl0ZW06IDUsCiAgICAgIHBhZ2luYXRpb246IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIHJvd3NQZXJQYWdlOiAxMAogICAgICB9LAogICAgICBuZXdzOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFN1amV0QnlJZCh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOwogICAgdGhpcy5nZXRSZXBvbnNlcyh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucyhbIlNFVF9EQVRBIl0pKSwgbWFwQWN0aW9ucyhbImdldFN1amV0QnlJZCIsICJzZXRSZXBvbnNlIiwgImdldFJlcG9uc2VzIl0pKSwge30sIHsKICAgIF9zZXRGb3JtOiBmdW5jdGlvbiBfc2V0Rm9ybSgpIHsKICAgICAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIndvcmxkY3JhZnQiKTsKCiAgICAgIGlmICh0b2tlbikgewogICAgICAgIHZhciBkZWNvZGVkID0gVnVlSnd0RGVjb2RlLmRlY29kZSh0b2tlbik7CiAgICAgICAgdGhpcy5uZXdSZXBvbnNlLmF1dGhvciA9IGRlY29kZWQucHNldWRvOwogICAgICB9CgogICAgICB0aGlzLm5ld1JlcG9uc2Uuc3VqZXRfaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgIHRoaXMuU0VUX0RBVEEodGhpcy5uZXdSZXBvbnNlKTsKICAgIH0sCiAgICBzdWJtaXRSZXBvbnNlOiBmdW5jdGlvbiBzdWJtaXRSZXBvbnNlKGV2ZW50KSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHRoaXMuc2V0UmVwb25zZSgpOwogICAgICB0aGlzLm5ld1JlcG9uc2UgPSB7fTsKICAgICAgdGhpcy5nZXRSZXBvbnNlcyh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOwogICAgICB0aGlzLlNFVF9EQVRBKCk7CiAgICB9LAogICAgZGF0ZTogZnVuY3Rpb24gZGF0ZShfZGF0ZSkgewogICAgICB2YXIgZCA9IG5ldyBEYXRlKF9kYXRlKTsKICAgICAgdmFyIG0gPSBtb21lbnQoZCk7CiAgICAgIG1vbWVudC51cGRhdGVMb2NhbGUoImVuIiwgewogICAgICAgIHJlbGF0aXZlVGltZTogewogICAgICAgICAgZnV0dXJlOiAiZGFucyAlcyIsCiAgICAgICAgICBwYXN0OiAiIGlsIHkgYSAlcyIsCiAgICAgICAgICBzOiAicXVlbHF1ZXMgc2Vjb25kZXMiLAogICAgICAgICAgc3M6ICIlZCBzZWNvbmRlcyIsCiAgICAgICAgICBtOiAidW5lIG1pbnV0ZSIsCiAgICAgICAgICBtbTogIiVkIG1pbnV0ZSIsCiAgICAgICAgICBoOiAidW5lIGhldXJlIiwKICAgICAgICAgIGhoOiAiJWQgaGV1cmUiLAogICAgICAgICAgZDogInVuIGpvdXIiLAogICAgICAgICAgZGQ6ICIlZCBqb3VyIiwKICAgICAgICAgIHc6ICJ1bmUgc2VtYWluZSIsCiAgICAgICAgICB3dzogIiVkIHNlbWFpbmUiLAogICAgICAgICAgTTogInVuIG1vaXMiLAogICAgICAgICAgTU06ICIlZCBtb2lzIiwKICAgICAgICAgIHk6ICJ1bmUgYW5uw6llIiwKICAgICAgICAgIHl5OiAiJWQgYW5uw6llIgogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBtLmZyb21Ob3coKTsKICAgIH0KICB9KSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSh7CiAgICBzdWpldDogZnVuY3Rpb24gc3VqZXQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnN1amV0LnN1amV0OwogICAgfSwKICAgIGlzTG9naW46IGZ1bmN0aW9uIGlzTG9naW4oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmF1dGguaXNMb2dpbjsKICAgIH0sCiAgICByZXBvbnNlczogZnVuY3Rpb24gcmVwb25zZXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnJlcG9uc2UucmVwb25zZXM7CiAgICB9CiAgfSkpLCB7fSwgewogICAgcGFnZXM6IGZ1bmN0aW9uIHBhZ2VzKCkgewogICAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMucmVwb25zZXMubGVuZ3RoIC8gdGhpcy5wYWdpbmF0aW9uLnJvd3NQZXJQYWdlKTsKICAgIH0sCiAgICBjbG9uZUl0ZW1zOiBmdW5jdGlvbiBjbG9uZUl0ZW1zKCkgewogICAgICB2YXIgY2xvbmUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMucmVwb25zZXMpKTsKICAgICAgdmFyIHN0YXJ0RnJvbSA9IHRoaXMucGFnaW5hdGlvbi5wYWdlICogdGhpcy5wYWdpbmF0aW9uLnJvd3NQZXJQYWdlIC0gdGhpcy5wYWdpbmF0aW9uLnJvd3NQZXJQYWdlOwogICAgICByZXR1cm4gY2xvbmUuc3BsaWNlKHN0YXJ0RnJvbSwgdGhpcy5wYWdpbmF0aW9uLnJvd3NQZXJQYWdlKTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["Sujet_view.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-container class=\"\">\n    <h2 class=\"display-3 mb-3\"></h2>\n\n    <v-card class=\"mb-9\" style=\"border: 1px solid grey\">\n      <v-card-title\n        class=\"blue-grey lighten-3\"\n        style=\"height: 55px; padding: 0 0 0 30px !important\"\n      >\n        {{ sujet.title }}\n\n        <span class=\"subtitle-2 ml-auto mr-3\">{{\n          date(sujet.created_at)\n        }}</span>\n      </v-card-title>\n      <v-card-text style=\"padding: 0 12px 0 12px !important\">\n        <v-row>\n          <v-col\n            style=\"\n              height: 100%;\n              border-top: 1px solid grey;\n              border-right: 1px solid grey;\n            \"\n            md=\"2\"\n            class=\"d-flex flex-column align-center justify-center\"\n          >\n            <span>{{ sujet.author }}</span>\n            <v-avatar class=\"mt-2\" color=\"orange\" size=\"62\">\n              <span class=\"white--text headline\">62</span>\n            </v-avatar>\n            <span class=\"mt-2\">Builder</span>\n            <span class=\"mt-2\"> <strong>date : </strong> 6/12/21212 </span>\n            <span> <strong>post</strong> : 1212</span>\n          </v-col>\n          <v-col\n            style=\"height: 100%; border-top: 1px solid grey\"\n            md=\"10\"\n            class=\"\"\n          >\n            <h2></h2>\n            <p class=\"mt-5 text-justify\">\n              {{ sujet.content }}\n            </p>\n          </v-col>\n        </v-row>\n      </v-card-text>\n    </v-card>\n\n    <h3>Reponse :</h3>\n\n    <v-row class=\"underline\"> </v-row>\n\n    <v-card\n      v-for=\"(reponse, key) in cloneItems\"\n      :key=\"key\"\n      class=\"reponse-card mt-7\"\n    >\n      <v-card-title class=\"blue-grey lighten-3 subtitle-2 reponse-card-title\">\n        <span class=\"subtitle-2 ml-auto mr-3\">{{\n          date(reponse.created_at)\n        }}</span>\n      </v-card-title>\n      <v-card-text style=\"padding: 0 12px 0 12px !important\">\n        <v-row>\n          <v-col\n            md=\"2\"\n            class=\"d-flex flex-column align-center justify-center reponse-card-col-author\"\n          >\n            <span>{{ reponse.author }}</span>\n            <v-avatar class=\"mt-2\" color=\"orange\" size=\"62\">\n              <span class=\"white--text headline\">62</span>\n            </v-avatar>\n            <span class=\"mt-2\">Builder</span>\n            <span class=\"mt-2\"> <strong>date : </strong> 6/12/21212 </span>\n            <span> <strong>post</strong> : 1212</span>\n          </v-col>\n          <v-col md=\"10\" class=\"reponse-card-col-content\">\n            <p class=\"mt-5 ml-5 text-justify\">\n              {{ reponse.content }}\n            </p>\n          </v-col>\n        </v-row>\n      </v-card-text>\n    </v-card>\n\n    <v-pagination\n      v-if=\"reponses.length >= pagination.rowsPerPage\"\n      v-model=\"pagination.page\"\n      :length=\"pages\"\n      circle\n      color=\"light-green darken-1\"\n      class=\"mt-4\"\n    ></v-pagination>\n\n    <form @submit=\"submitReponse\">\n      <v-card\n        v-if=\"isLogin === true\"\n        class=\"mt-5 d-flex flex-column align-center justify-center\"\n      >\n        <v-card-title>\n          <span>Ajoute ta réponse</span>\n        </v-card-title>\n        <v-card-text style=\"width: 500px\">\n          <v-textarea\n            v-model=\"newReponse.content\"\n            outlined\n            label=\"Commenter\"\n            value\n            class=\"mt-5\"\n          ></v-textarea>\n        </v-card-text>\n        <v-card-actions>\n          <v-btn @click=\"_setForm()\" type=\"submit\" class=\"float-right mb-5 mr-5\"\n            >envoyer</v-btn\n          >\n        </v-card-actions>\n      </v-card>\n      <v-card\n        class=\"mt-5 d-flex flex-column align-center justify-center\"\n        v-if=\"isLogin === false\"\n      >\n        <v-card-text> connect toi pour commenter </v-card-text>\n      </v-card>\n    </form>\n  </v-container>\n</template>\n          \n<script>\nimport { mapActions, mapState, mapMutations } from \"vuex\";\nimport VueJwtDecode from \"vue-jwt-decode\";\nimport moment from \"moment\";\n\nexport default {\n  data() {\n    return {\n      newReponse: {},\n      item: 5,\n      pagination: {\n        page: 1,\n        rowsPerPage: 10,\n      },\n      news: false,\n    };\n  },\n\n  created() {\n    this.getSujetById(this.$route.params.id);\n    this.getReponses(this.$route.params.id);\n  },\n  methods: {\n    ...mapMutations([\"SET_DATA\"]),\n    ...mapActions([\"getSujetById\", \"setReponse\", \"getReponses\"]),\n\n    _setForm() {\n      let token = localStorage.getItem(\"worldcraft\");\n      if (token) {\n        let decoded = VueJwtDecode.decode(token);\n        this.newReponse.author = decoded.pseudo;\n      }\n      this.newReponse.sujet_id = this.$route.params.id;\n      this.SET_DATA(this.newReponse);\n    },\n\n    submitReponse(event) {\n      event.preventDefault();\n      this.setReponse();\n      this.newReponse = {};\n      this.getReponses(this.$route.params.id);\n      this.SET_DATA();\n    },\n\n    date(date) {\n      let d = new Date(date);\n      let m = moment(d);\n      moment.updateLocale(\"en\", {\n        relativeTime: {\n          future: \"dans %s\",\n          past: \" il y a %s\",\n          s: \"quelques secondes\",\n          ss: \"%d secondes\",\n          m: \"une minute\",\n          mm: \"%d minute\",\n          h: \"une heure\",\n          hh: \"%d heure\",\n          d: \"un jour\",\n          dd: \"%d jour\",\n          w: \"une semaine\",\n          ww: \"%d semaine\",\n          M: \"un mois\",\n          MM: \"%d mois\",\n          y: \"une année\",\n          yy: \"%d année\",\n        },\n      });\n      return m.fromNow();\n    },\n  },\n  computed: {\n    ...mapState({\n      sujet: (state) => state.sujet.sujet,\n      isLogin: (state) => state.auth.isLogin,\n      reponses: (state) => state.reponse.reponses,\n    }),\n\n    pages() {\n      return Math.ceil(this.reponses.length / this.pagination.rowsPerPage);\n    },\n\n    cloneItems() {\n      var clone = JSON.parse(JSON.stringify(this.reponses));\n      var startFrom =\n        this.pagination.page * this.pagination.rowsPerPage -\n        this.pagination.rowsPerPage;\n      return clone.splice(startFrom, this.pagination.rowsPerPage);\n    },\n  },\n};\n</script>\n\n<style lang=\"sass\" scoped>\n.author\n  text-decoration: none\n  &:hover\n    text-decoration: underline\n\n.reponse-author\n  border-right: 1px solid #919191\n\n.reponse-citation\n  overflow-wrap: anywhere\n\n.underline\n  padding: 1px\n  background-color: grey\n\n.reponse-card-col-content\n  height: 100%\n  border-top: 1px solid grey\n\n.reponse-card-col-author\n  height: 100%\n  border-top: 1px solid grey\n  border-right: 1px solid grey\n\n.reponse-card-title\n  height: 55px\n  padding: 0 0 0 30px !important\n\n.reponse-card\n  border: 1px solid grey\n</style>"],"sourceRoot":"src/views"}]}