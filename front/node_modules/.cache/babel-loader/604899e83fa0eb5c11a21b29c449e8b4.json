{"remainingRequest":"/home/noydono/Documents/worldcraft/front/node_modules/babel-loader/lib/index.js!/home/noydono/Documents/worldcraft/front/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/home/noydono/Documents/worldcraft/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/noydono/Documents/worldcraft/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/noydono/Documents/worldcraft/front/src/layouts/main.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/noydono/Documents/worldcraft/front/src/layouts/main.vue","mtime":1619284270095},{"path":"/home/noydono/Documents/worldcraft/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/noydono/Documents/worldcraft/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/noydono/Documents/worldcraft/front/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/noydono/Documents/worldcraft/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/noydono/Documents/worldcraft/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvbm95ZG9uby9Eb2N1bWVudHMvd29ybGRjcmFmdC9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBDcmVhdGVTdWpldENvbXBvbmVudCBmcm9tICIuLi9jb21wb25lbnRzL2dsb2JhbC9jcmVhdGVTdWpldENvbXBvbmVudCI7CmltcG9ydCBBdXRoQ29tcG9uZW50IGZyb20gIi4uL2NvbXBvbmVudHMvZ2xvYmFsL2F1dGgvYXV0aENvbXBvbmVudCI7CmltcG9ydCBWdWVKd3REZWNvZGUgZnJvbSAndnVlLWp3dC1kZWNvZGUnOwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwQWN0aW9ucywgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHt9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJqd3QiKTsKICAgIGNvbnNvbGUubG9nKCdjcmVhdGUgOicgKyBWdWVKd3REZWNvZGUuZGVjb2RlKHRva2VuKS5pc0FkbWluKTsKCiAgICBpZiAodG9rZW4pIHsKICAgICAgdGhpcy5TRVRfTE9HSU4odHJ1ZSk7CgogICAgICBpZiAoVnVlSnd0RGVjb2RlLmRlY29kZSh0b2tlbikuaXNBZG1pbiA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuU0VUX0FETUlOKHRydWUpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuU0VUX0FETUlOKGZhbHNlKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhpcy5TRVRfTE9HSU4oZmFsc2UpOwogICAgfQogIH0sCiAgdXBkYXRlZDogZnVuY3Rpb24gdXBkYXRlZCgpIHsKICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJqd3QiKTsKICAgIGNvbnNvbGUubG9nKCd1cGRhdGUgOicgKyBWdWVKd3REZWNvZGUuZGVjb2RlKHRva2VuKS5pc0FkbWluKTsKCiAgICBpZiAodG9rZW4pIHsKICAgICAgdGhpcy5TRVRfTE9HSU4odHJ1ZSk7CgogICAgICBpZiAoVnVlSnd0RGVjb2RlLmRlY29kZSh0b2tlbikuaXNBZG1pbiA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuU0VUX0FETUlOKHRydWUpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuU0VUX0FETUlOKGZhbHNlKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhpcy5TRVRfTE9HSU4oZmFsc2UpOwogICAgfQogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWyJsb2dvdXQiXSkpLCBtYXBNdXRhdGlvbnMoWyJTRVRfTE9HSU4iLCAiU0VUX0FETUlOIl0pKSwge30sIHsKICAgIGxvZ1VzZXJPdXQ6IGZ1bmN0aW9uIGxvZ1VzZXJPdXQoKSB7CiAgICAgIHRoaXMuU0VUX0FETUlOKGZhbHNlKTsKICAgICAgdGhpcy5sb2dvdXQoKTsKICAgIH0KICB9KSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoewogICAgaXNMb2dpbjogZnVuY3Rpb24gaXNMb2dpbihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuYXV0aC5pc0xvZ2luOwogICAgfSwKICAgIGlzQWRtaW46IGZ1bmN0aW9uIGlzQWRtaW4oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmF1dGguaXNBZG1pbjsKICAgIH0KICB9KSksCiAgY29tcG9uZW50czogewogICAgQ3JlYXRlU3VqZXRDb21wb25lbnQ6IENyZWF0ZVN1amV0Q29tcG9uZW50LAogICAgQXV0aENvbXBvbmVudDogQXV0aENvbXBvbmVudAogIH0KfTs="},{"version":3,"sources":["main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,OAAA,oBAAA,MAAA,2CAAA;AACA,OAAA,aAAA,MAAA,yCAAA;AACA,OAAA,YAAA,MAAA,gBAAA;AACA,SAAA,QAAA,EAAA,UAAA,EAAA,YAAA,QAAA,MAAA;AAEA,eAAA;AAEA,EAAA,IAAA,EAAA;AAAA,WAAA,EAAA;AAAA,GAFA;AAIA,EAAA,OAJA,qBAIA;AACA,QAAA,KAAA,GAAA,YAAA,CAAA,OAAA,CAAA,KAAA,CAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,aAAA,YAAA,CAAA,MAAA,CAAA,KAAA,EAAA,OAAA;;AACA,QAAA,KAAA,EAAA;AACA,WAAA,SAAA,CAAA,IAAA;;AACA,UAAA,YAAA,CAAA,MAAA,CAAA,KAAA,EAAA,OAAA,KAAA,IAAA,EAAA;AACA,aAAA,SAAA,CAAA,IAAA;AACA,OAFA,MAEA;AACA,aAAA,SAAA,CAAA,KAAA;AACA;AACA,KAPA,MAOA;AACA,WAAA,SAAA,CAAA,KAAA;AACA;AACA,GAjBA;AAmBA,EAAA,OAnBA,qBAmBA;AACA,QAAA,KAAA,GAAA,YAAA,CAAA,OAAA,CAAA,KAAA,CAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,aAAA,YAAA,CAAA,MAAA,CAAA,KAAA,EAAA,OAAA;;AAEA,QAAA,KAAA,EAAA;AACA,WAAA,SAAA,CAAA,IAAA;;AACA,UAAA,YAAA,CAAA,MAAA,CAAA,KAAA,EAAA,OAAA,KAAA,IAAA,EAAA;AACA,aAAA,SAAA,CAAA,IAAA;AACA,OAFA,MAEA;AACA,aAAA,SAAA,CAAA,KAAA;AACA;AACA,KAPA,MAOA;AACA,WAAA,SAAA,CAAA,KAAA;AACA;AACA,GAjCA;AAkCA,EAAA,OAAA,gDACA,UAAA,CAAA,CAAA,QAAA,CAAA,CADA,GAEA,YAAA,CAAA,CAAA,WAAA,EAAA,WAAA,CAAA,CAFA;AAIA,IAAA,UAJA,wBAIA;AACA,WAAA,SAAA,CAAA,KAAA;AACA,WAAA,MAAA;AACA;AAPA,IAlCA;AA2CA,EAAA,QAAA,oBACA,QAAA,CAAA;AACA,IAAA,OAAA,EAAA,iBAAA,KAAA;AAAA,aAAA,KAAA,CAAA,IAAA,CAAA,OAAA;AAAA,KADA;AAEA,IAAA,OAAA,EAAA,iBAAA,KAAA;AAAA,aAAA,KAAA,CAAA,IAAA,CAAA,OAAA;AAAA;AAFA,GAAA,CADA,CA3CA;AAiDA,EAAA,UAAA,EAAA;AACA,IAAA,oBAAA,EAAA,oBADA;AAEA,IAAA,aAAA,EAAA;AAFA;AAjDA,CAAA","sourcesContent":["<template>\n  <v-app id=\"inspire\">\n    <v-app-bar\n      app\n      src=\"https://cdn.discordapp.com/attachments/648554266700808202/691422544095346708/2020-03-22_23.51.10.png\"\n      dark\n      shrink-on-scroll\n    >\n      <template #img=\"{ props }\">\n        <v-img\n          v-bind=\"props\"\n          gradient=\"to top right, rgba(100,115,201,.7), rgba(25,32,72,.7)\"\n        ></v-img>\n      </template>\n\n      <v-toolbar-title >WorldCraft</v-toolbar-title>\n      <v-btn to=\"/\" class=\"ml-auto mt-2\" text>Accueil</v-btn>\n      <v-btn to=\"/forum\" class=\"mt-2\" text>Forum</v-btn>\n      <v-btn v-if=\"isAdmin == true\" to=\"/admin\" class=\"mt-2\" text>admin</v-btn>\n      <CreateSujetComponent v-if=\"isLogin == true\" />\n      <AuthComponent v-if=\"isLogin == false\" />\n      <v-btn v-if=\"isLogin == true\" to=\"/userdetail\" class=\"mt-2\" text\n        >mon Compte</v-btn\n      >\n      <v-btn v-if=\"isLogin == true\" @click=\"logUserOut()\" class=\"mt-2\" text\n        >d√©connection</v-btn\n      >\n    </v-app-bar>\n    <v-content class=\"grey lighten-5\">\n      <router-view />\n    </v-content>\n\n    <v-footer color=\"grey darken-1\" padless>\n      <v-row justify=\"center\" no-gutters> </v-row>\n    </v-footer>\n  </v-app>\n</template>\n\n<script>\nimport CreateSujetComponent from \"../components/global/createSujetComponent\";\nimport AuthComponent from \"../components/global/auth/authComponent\";\nimport VueJwtDecode from 'vue-jwt-decode'\nimport { mapState, mapActions, mapMutations } from \"vuex\";\n\nexport default {\n\n  data: () => ({}),\n\n  created(){\n    let token = localStorage.getItem(\"jwt\");\n    console.log('create :'+VueJwtDecode.decode(token).isAdmin);\n    if (token) {\n      this.SET_LOGIN(true);\n      if(VueJwtDecode.decode(token).isAdmin === true){\n        this.SET_ADMIN(true)\n      }else{\n        this.SET_ADMIN(false)\n      }\n    } else {\n      this.SET_LOGIN(false);\n    }\n  },\n    \n  updated(){\n    let token = localStorage.getItem(\"jwt\");\n    console.log('update :'+VueJwtDecode.decode(token).isAdmin);\n\n    if (token) {\n      this.SET_LOGIN(true);\n      if(VueJwtDecode.decode(token).isAdmin === true){\n        this.SET_ADMIN(true)\n      }else{\n        this.SET_ADMIN(false)\n      }\n    } else {\n      this.SET_LOGIN(false);\n    }\n  },\n  methods: {\n    ...mapActions([\"logout\"]),\n    ...mapMutations([\"SET_LOGIN\",\"SET_ADMIN\"]),\n    \n    logUserOut() {\n      this.SET_ADMIN(false)\n      this.logout();\n    },\n  },\n  computed: {\n    ...mapState({\n      isLogin: state => state.auth.isLogin,\n      isAdmin: state => state.auth.isAdmin\n    }),\n  },\n  components: {\n    CreateSujetComponent,\n    AuthComponent,\n  },\n};\n</script>\n"],"sourceRoot":"src/layouts"}]}