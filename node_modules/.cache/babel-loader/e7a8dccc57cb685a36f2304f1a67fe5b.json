{"remainingRequest":"/home/noy/git/WorldCraft/node_modules/babel-loader/lib/index.js!/home/noy/git/WorldCraft/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/home/noy/git/WorldCraft/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/noy/git/WorldCraft/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/noy/git/WorldCraft/src/layouts/main.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/noy/git/WorldCraft/src/layouts/main.vue","mtime":1619243338787},{"path":"/home/noy/git/WorldCraft/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/noy/git/WorldCraft/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/noy/git/WorldCraft/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/noy/git/WorldCraft/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/noy/git/WorldCraft/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvbm95L2dpdC9Xb3JsZENyYWZ0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IENyZWF0ZVN1amV0Q29tcG9uZW50IGZyb20gIi4uL2NvbXBvbmVudHMvZ2xvYmFsL2NyZWF0ZVN1amV0Q29tcG9uZW50IjsKaW1wb3J0IEF1dGhDb21wb25lbnQgZnJvbSAiLi4vY29tcG9uZW50cy9nbG9iYWwvYXV0aC9hdXRoQ29tcG9uZW50IjsKaW1wb3J0IFZ1ZUp3dERlY29kZSBmcm9tICd2dWUtand0LWRlY29kZSc7CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBBY3Rpb25zLCBtYXBNdXRhdGlvbnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4ge307CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImp3dCIpOwoKICAgIGlmICh0b2tlbikgewogICAgICB0aGlzLlNFVF9MT0dJTih0cnVlKTsKCiAgICAgIGlmIChWdWVKd3REZWNvZGUuZGVjb2RlKHRva2VuKS5pc0FkbWluID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy5TRVRfQURNSU4odHJ1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5TRVRfQURNSU4oZmFsc2UpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aGlzLlNFVF9MT0dJTihmYWxzZSk7CiAgICB9CiAgfSwKICB1cGRhdGVkOiBmdW5jdGlvbiB1cGRhdGVkKCkgewogICAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImp3dCIpOwoKICAgIGlmICh0b2tlbikgewogICAgICB0aGlzLlNFVF9MT0dJTih0cnVlKTsKCiAgICAgIGlmIChWdWVKd3REZWNvZGUuZGVjb2RlKHRva2VuKS5pc0FkbWluID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy5TRVRfQURNSU4odHJ1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5TRVRfQURNSU4oZmFsc2UpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aGlzLlNFVF9MT0dJTihmYWxzZSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbImxvZ291dCJdKSksIG1hcE11dGF0aW9ucyhbIlNFVF9MT0dJTiIsICJTRVRfQURNSU4iXSkpLCB7fSwgewogICAgbG9nVXNlck91dDogZnVuY3Rpb24gbG9nVXNlck91dCgpIHsKICAgICAgdGhpcy5TRVRfQURNSU4oZmFsc2UpOwogICAgICB0aGlzLmxvZ291dCgpOwogICAgfQogIH0pLAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSh7CiAgICBpc0xvZ2luOiBmdW5jdGlvbiBpc0xvZ2luKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5hdXRoLmlzTG9naW47CiAgICB9LAogICAgaXNBZG1pbjogZnVuY3Rpb24gaXNBZG1pbihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuYXV0aC5pc0FkbWluOwogICAgfQogIH0pKSwKICBjb21wb25lbnRzOiB7CiAgICBDcmVhdGVTdWpldENvbXBvbmVudDogQ3JlYXRlU3VqZXRDb21wb25lbnQsCiAgICBBdXRoQ29tcG9uZW50OiBBdXRoQ29tcG9uZW50CiAgfQp9Ow=="},{"version":3,"sources":["main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,OAAA,oBAAA,MAAA,2CAAA;AACA,OAAA,aAAA,MAAA,yCAAA;AACA,OAAA,YAAA,MAAA,gBAAA;AACA,SAAA,QAAA,EAAA,UAAA,EAAA,YAAA,QAAA,MAAA;AAEA,eAAA;AAEA,EAAA,IAAA,EAAA;AAAA,WAAA,EAAA;AAAA,GAFA;AAIA,EAAA,OAJA,qBAIA;AACA,QAAA,KAAA,GAAA,YAAA,CAAA,OAAA,CAAA,KAAA,CAAA;;AACA,QAAA,KAAA,EAAA;AACA,WAAA,SAAA,CAAA,IAAA;;AACA,UAAA,YAAA,CAAA,MAAA,CAAA,KAAA,EAAA,OAAA,KAAA,IAAA,EAAA;AACA,aAAA,SAAA,CAAA,IAAA;AACA,OAFA,MAEA;AACA,aAAA,SAAA,CAAA,KAAA;AACA;AACA,KAPA,MAOA;AACA,WAAA,SAAA,CAAA,KAAA;AACA;AACA,GAhBA;AAkBA,EAAA,OAlBA,qBAkBA;AACA,QAAA,KAAA,GAAA,YAAA,CAAA,OAAA,CAAA,KAAA,CAAA;;AACA,QAAA,KAAA,EAAA;AACA,WAAA,SAAA,CAAA,IAAA;;AACA,UAAA,YAAA,CAAA,MAAA,CAAA,KAAA,EAAA,OAAA,KAAA,IAAA,EAAA;AACA,aAAA,SAAA,CAAA,IAAA;AACA,OAFA,MAEA;AACA,aAAA,SAAA,CAAA,KAAA;AACA;AACA,KAPA,MAOA;AACA,WAAA,SAAA,CAAA,KAAA;AACA;AACA,GA9BA;AA+BA,EAAA,OAAA,gDACA,UAAA,CAAA,CAAA,QAAA,CAAA,CADA,GAEA,YAAA,CAAA,CAAA,WAAA,EAAA,WAAA,CAAA,CAFA;AAIA,IAAA,UAJA,wBAIA;AACA,WAAA,SAAA,CAAA,KAAA;AACA,WAAA,MAAA;AACA;AAPA,IA/BA;AAwCA,EAAA,QAAA,oBACA,QAAA,CAAA;AACA,IAAA,OAAA,EAAA,iBAAA,KAAA;AAAA,aAAA,KAAA,CAAA,IAAA,CAAA,OAAA;AAAA,KADA;AAEA,IAAA,OAAA,EAAA,iBAAA,KAAA;AAAA,aAAA,KAAA,CAAA,IAAA,CAAA,OAAA;AAAA;AAFA,GAAA,CADA,CAxCA;AA8CA,EAAA,UAAA,EAAA;AACA,IAAA,oBAAA,EAAA,oBADA;AAEA,IAAA,aAAA,EAAA;AAFA;AA9CA,CAAA","sourcesContent":["<template>\n  <v-app id=\"inspire\">\n    <v-app-bar\n      app\n      src=\"https://cdn.discordapp.com/attachments/648554266700808202/691422544095346708/2020-03-22_23.51.10.png\"\n      dark\n      shrink-on-scroll\n    >\n      <template #img=\"{ props }\">\n        <v-img\n          v-bind=\"props\"\n          gradient=\"to top right, rgba(100,115,201,.7), rgba(25,32,72,.7)\"\n        ></v-img>\n      </template>\n\n      <v-toolbar-title >WorldCraft</v-toolbar-title>\n      <v-btn to=\"/\" class=\"ml-auto mt-2\" text>Accueil</v-btn>\n      <v-btn to=\"/forum\" class=\"mt-2\" text>Forum</v-btn>\n      <v-btn v-if=\"isAdmin == true\" to=\"/admin\" class=\"mt-2\" text>admin</v-btn>\n      <CreateSujetComponent v-if=\"isLogin == true\" />\n      <AuthComponent v-if=\"isLogin == false\" />\n      <v-btn v-if=\"isLogin == true\" to=\"/userdetail\" class=\"mt-2\" text\n        >mon Compte</v-btn\n      >\n      <v-btn v-if=\"isLogin == true\" @click=\"logUserOut()\" class=\"mt-2\" text\n        >d√©connection</v-btn\n      >\n    </v-app-bar>\n    <v-content class=\"grey lighten-5\">\n      <router-view />\n    </v-content>\n\n    <v-footer color=\"grey darken-1\" padless>\n      <v-row justify=\"center\" no-gutters> </v-row>\n    </v-footer>\n  </v-app>\n</template>\n\n<script>\nimport CreateSujetComponent from \"../components/global/createSujetComponent\";\nimport AuthComponent from \"../components/global/auth/authComponent\";\nimport VueJwtDecode from 'vue-jwt-decode'\nimport { mapState, mapActions, mapMutations } from \"vuex\";\n\nexport default {\n\n  data: () => ({}),\n\n  created(){\n    let token = localStorage.getItem(\"jwt\");\n    if (token) {\n      this.SET_LOGIN(true);\n      if(VueJwtDecode.decode(token).isAdmin === true){\n        this.SET_ADMIN(true)\n      }else{\n        this.SET_ADMIN(false)\n      }\n    } else {\n      this.SET_LOGIN(false);\n    }\n  },\n    \n  updated(){\n    let token = localStorage.getItem(\"jwt\");\n    if (token) {\n      this.SET_LOGIN(true);\n      if(VueJwtDecode.decode(token).isAdmin === true){\n        this.SET_ADMIN(true)\n      }else{\n        this.SET_ADMIN(false)\n      }\n    } else {\n      this.SET_LOGIN(false);\n    }\n  },\n  methods: {\n    ...mapActions([\"logout\"]),\n    ...mapMutations([\"SET_LOGIN\",\"SET_ADMIN\"]),\n    \n    logUserOut() {\n      this.SET_ADMIN(false)\n      this.logout();\n    },\n  },\n  computed: {\n    ...mapState({\n      isLogin: state => state.auth.isLogin,\n      isAdmin: state => state.auth.isAdmin\n    }),\n  },\n  components: {\n    CreateSujetComponent,\n    AuthComponent,\n  },\n};\n</script>\n"],"sourceRoot":"src/layouts"}]}