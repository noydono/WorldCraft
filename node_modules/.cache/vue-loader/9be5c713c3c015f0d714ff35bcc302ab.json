{"remainingRequest":"/home/noy/git/WorldCraft/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/noy/git/WorldCraft/src/layouts/main.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/noy/git/WorldCraft/src/layouts/main.vue","mtime":1619243338787},{"path":"/home/noy/git/WorldCraft/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/noy/git/WorldCraft/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/noy/git/WorldCraft/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/noy/git/WorldCraft/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/noy/git/WorldCraft/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDcmVhdGVTdWpldENvbXBvbmVudCBmcm9tICIuLi9jb21wb25lbnRzL2dsb2JhbC9jcmVhdGVTdWpldENvbXBvbmVudCI7CmltcG9ydCBBdXRoQ29tcG9uZW50IGZyb20gIi4uL2NvbXBvbmVudHMvZ2xvYmFsL2F1dGgvYXV0aENvbXBvbmVudCI7CmltcG9ydCBWdWVKd3REZWNvZGUgZnJvbSAndnVlLWp3dC1kZWNvZGUnCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBBY3Rpb25zLCBtYXBNdXRhdGlvbnMgfSBmcm9tICJ2dWV4IjsKCmV4cG9ydCBkZWZhdWx0IHsKCiAgZGF0YTogKCkgPT4gKHt9KSwKCiAgY3JlYXRlZCgpewogICAgbGV0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImp3dCIpOwogICAgaWYgKHRva2VuKSB7CiAgICAgIHRoaXMuU0VUX0xPR0lOKHRydWUpOwogICAgICBpZihWdWVKd3REZWNvZGUuZGVjb2RlKHRva2VuKS5pc0FkbWluID09PSB0cnVlKXsKICAgICAgICB0aGlzLlNFVF9BRE1JTih0cnVlKQogICAgICB9ZWxzZXsKICAgICAgICB0aGlzLlNFVF9BRE1JTihmYWxzZSkKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhpcy5TRVRfTE9HSU4oZmFsc2UpOwogICAgfQogIH0sCiAgICAKICB1cGRhdGVkKCl7CiAgICBsZXQgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiand0Iik7CiAgICBpZiAodG9rZW4pIHsKICAgICAgdGhpcy5TRVRfTE9HSU4odHJ1ZSk7CiAgICAgIGlmKFZ1ZUp3dERlY29kZS5kZWNvZGUodG9rZW4pLmlzQWRtaW4gPT09IHRydWUpewogICAgICAgIHRoaXMuU0VUX0FETUlOKHRydWUpCiAgICAgIH1lbHNlewogICAgICAgIHRoaXMuU0VUX0FETUlOKGZhbHNlKQogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aGlzLlNFVF9MT0dJTihmYWxzZSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKFsibG9nb3V0Il0pLAogICAgLi4ubWFwTXV0YXRpb25zKFsiU0VUX0xPR0lOIiwiU0VUX0FETUlOIl0pLAogICAgCiAgICBsb2dVc2VyT3V0KCkgewogICAgICB0aGlzLlNFVF9BRE1JTihmYWxzZSkKICAgICAgdGhpcy5sb2dvdXQoKTsKICAgIH0sCiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoewogICAgICBpc0xvZ2luOiBzdGF0ZSA9PiBzdGF0ZS5hdXRoLmlzTG9naW4sCiAgICAgIGlzQWRtaW46IHN0YXRlID0+IHN0YXRlLmF1dGguaXNBZG1pbgogICAgfSksCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBDcmVhdGVTdWpldENvbXBvbmVudCwKICAgIEF1dGhDb21wb25lbnQsCiAgfSwKfTsK"},{"version":3,"sources":["main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.vue","sourceRoot":"src/layouts","sourcesContent":["<template>\n  <v-app id=\"inspire\">\n    <v-app-bar\n      app\n      src=\"https://cdn.discordapp.com/attachments/648554266700808202/691422544095346708/2020-03-22_23.51.10.png\"\n      dark\n      shrink-on-scroll\n    >\n      <template #img=\"{ props }\">\n        <v-img\n          v-bind=\"props\"\n          gradient=\"to top right, rgba(100,115,201,.7), rgba(25,32,72,.7)\"\n        ></v-img>\n      </template>\n\n      <v-toolbar-title >WorldCraft</v-toolbar-title>\n      <v-btn to=\"/\" class=\"ml-auto mt-2\" text>Accueil</v-btn>\n      <v-btn to=\"/forum\" class=\"mt-2\" text>Forum</v-btn>\n      <v-btn v-if=\"isAdmin == true\" to=\"/admin\" class=\"mt-2\" text>admin</v-btn>\n      <CreateSujetComponent v-if=\"isLogin == true\" />\n      <AuthComponent v-if=\"isLogin == false\" />\n      <v-btn v-if=\"isLogin == true\" to=\"/userdetail\" class=\"mt-2\" text\n        >mon Compte</v-btn\n      >\n      <v-btn v-if=\"isLogin == true\" @click=\"logUserOut()\" class=\"mt-2\" text\n        >d√©connection</v-btn\n      >\n    </v-app-bar>\n    <v-content class=\"grey lighten-5\">\n      <router-view />\n    </v-content>\n\n    <v-footer color=\"grey darken-1\" padless>\n      <v-row justify=\"center\" no-gutters> </v-row>\n    </v-footer>\n  </v-app>\n</template>\n\n<script>\nimport CreateSujetComponent from \"../components/global/createSujetComponent\";\nimport AuthComponent from \"../components/global/auth/authComponent\";\nimport VueJwtDecode from 'vue-jwt-decode'\nimport { mapState, mapActions, mapMutations } from \"vuex\";\n\nexport default {\n\n  data: () => ({}),\n\n  created(){\n    let token = localStorage.getItem(\"jwt\");\n    if (token) {\n      this.SET_LOGIN(true);\n      if(VueJwtDecode.decode(token).isAdmin === true){\n        this.SET_ADMIN(true)\n      }else{\n        this.SET_ADMIN(false)\n      }\n    } else {\n      this.SET_LOGIN(false);\n    }\n  },\n    \n  updated(){\n    let token = localStorage.getItem(\"jwt\");\n    if (token) {\n      this.SET_LOGIN(true);\n      if(VueJwtDecode.decode(token).isAdmin === true){\n        this.SET_ADMIN(true)\n      }else{\n        this.SET_ADMIN(false)\n      }\n    } else {\n      this.SET_LOGIN(false);\n    }\n  },\n  methods: {\n    ...mapActions([\"logout\"]),\n    ...mapMutations([\"SET_LOGIN\",\"SET_ADMIN\"]),\n    \n    logUserOut() {\n      this.SET_ADMIN(false)\n      this.logout();\n    },\n  },\n  computed: {\n    ...mapState({\n      isLogin: state => state.auth.isLogin,\n      isAdmin: state => state.auth.isAdmin\n    }),\n  },\n  components: {\n    CreateSujetComponent,\n    AuthComponent,\n  },\n};\n</script>\n"]}]}