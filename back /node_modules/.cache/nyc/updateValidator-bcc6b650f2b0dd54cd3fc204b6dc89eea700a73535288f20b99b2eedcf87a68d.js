"use strict";function cov_1schraav8g(){var path="/home/noydono/Documents/Git/WorldCraft/app/middleware/updateValidator.js";var hash="a0ae04de84147ef0e1b3305267bd7919a01205a8";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/noydono/Documents/Git/WorldCraft/app/middleware/updateValidator.js",statementMap:{"0":{start:{line:3,column:0},end:{line:67,column:2}},"1":{start:{line:4,column:20},end:{line:4,column:25}},"2":{start:{line:5,column:17},end:{line:5,column:19}},"3":{start:{line:6,column:4},end:{line:6,column:40}},"4":{start:{line:7,column:4},end:{line:7,column:34}},"5":{start:{line:8,column:4},end:{line:8,column:40}},"6":{start:{line:12,column:4},end:{line:18,column:5}},"7":{start:{line:13,column:8},end:{line:15,column:11}},"8":{start:{line:17,column:8},end:{line:17,column:14}},"9":{start:{line:21,column:30},end:{line:21,column:55}},"10":{start:{line:22,column:8},end:{line:32,column:9}},"11":{start:{line:23,column:12},end:{line:25,column:15}},"12":{start:{line:26,column:12},end:{line:26,column:29}},"13":{start:{line:27,column:15},end:{line:32,column:9}},"14":{start:{line:28,column:12},end:{line:30,column:15}},"15":{start:{line:31,column:12},end:{line:31,column:29}},"16":{start:{line:36,column:29},end:{line:36,column:63}},"17":{start:{line:37,column:8},end:{line:47,column:9}},"18":{start:{line:38,column:12},end:{line:40,column:15}},"19":{start:{line:41,column:12},end:{line:41,column:29}},"20":{start:{line:42,column:15},end:{line:47,column:9}},"21":{start:{line:43,column:12},end:{line:45,column:15}},"22":{start:{line:46,column:12},end:{line:46,column:29}},"23":{start:{line:51,column:32},end:{line:51,column:96}},"24":{start:{line:52,column:8},end:{line:64,column:9}},"25":{start:{line:53,column:12},end:{line:55,column:15}},"26":{start:{line:56,column:12},end:{line:56,column:29}},"27":{start:{line:57,column:15},end:{line:64,column:9}},"28":{start:{line:60,column:12},end:{line:62,column:15}},"29":{start:{line:63,column:12},end:{line:63,column:29}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:17},end:{line:3,column:18}},loc:{start:{line:3,column:37},end:{line:67,column:1}},line:3},"1":{name:"usernameValidator",decl:{start:{line:20,column:13},end:{line:20,column:30}},loc:{start:{line:20,column:41},end:{line:33,column:5}},line:20},"2":{name:"emailValidator",decl:{start:{line:35,column:13},end:{line:35,column:27}},loc:{start:{line:35,column:35},end:{line:48,column:5}},line:35},"3":{name:"passwordValidator",decl:{start:{line:50,column:13},end:{line:50,column:30}},loc:{start:{line:50,column:41},end:{line:65,column:5}},line:50}},branchMap:{"0":{loc:{start:{line:12,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:12,column:4},end:{line:18,column:5}},{start:{line:12,column:4},end:{line:18,column:5}}],line:12},"1":{loc:{start:{line:22,column:8},end:{line:32,column:9}},type:"if",locations:[{start:{line:22,column:8},end:{line:32,column:9}},{start:{line:22,column:8},end:{line:32,column:9}}],line:22},"2":{loc:{start:{line:27,column:15},end:{line:32,column:9}},type:"if",locations:[{start:{line:27,column:15},end:{line:32,column:9}},{start:{line:27,column:15},end:{line:32,column:9}}],line:27},"3":{loc:{start:{line:37,column:8},end:{line:47,column:9}},type:"if",locations:[{start:{line:37,column:8},end:{line:47,column:9}},{start:{line:37,column:8},end:{line:47,column:9}}],line:37},"4":{loc:{start:{line:42,column:15},end:{line:47,column:9}},type:"if",locations:[{start:{line:42,column:15},end:{line:47,column:9}},{start:{line:42,column:15},end:{line:47,column:9}}],line:42},"5":{loc:{start:{line:52,column:8},end:{line:64,column:9}},type:"if",locations:[{start:{line:52,column:8},end:{line:64,column:9}},{start:{line:52,column:8},end:{line:64,column:9}}],line:52},"6":{loc:{start:{line:57,column:15},end:{line:64,column:9}},type:"if",locations:[{start:{line:57,column:15},end:{line:64,column:9}},{start:{line:57,column:15},end:{line:64,column:9}}],line:57}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a0ae04de84147ef0e1b3305267bd7919a01205a8"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1schraav8g=function(){return actualCoverage;};}return actualCoverage;}cov_1schraav8g();cov_1schraav8g().s[0]++;module.exports=(req,res,next)=>{cov_1schraav8g().f[0]++;let hasErrors=(cov_1schraav8g().s[1]++,false);let errors=(cov_1schraav8g().s[2]++,[]);cov_1schraav8g().s[3]++;usernameValidator(req.body.username);cov_1schraav8g().s[4]++;emailValidator(req.body.email);cov_1schraav8g().s[5]++;passwordValidator(req.body.password);cov_1schraav8g().s[6]++;if(hasErrors===true){cov_1schraav8g().b[0][0]++;cov_1schraav8g().s[7]++;res.status(422).json({errors:errors});}else{cov_1schraav8g().b[0][1]++;cov_1schraav8g().s[8]++;next();}function usernameValidator(username){cov_1schraav8g().f[1]++;const patternPseudo=(cov_1schraav8g().s[9]++,/^([a-zA-Z0-9-_]{2,36})$/);cov_1schraav8g().s[10]++;if(!username){cov_1schraav8g().b[1][0]++;cov_1schraav8g().s[11]++;errors.push({username:"Le pseudo et requis"});cov_1schraav8g().s[12]++;hasErrors=true;}else{cov_1schraav8g().b[1][1]++;cov_1schraav8g().s[13]++;if(patternPseudo.test(username)===false){cov_1schraav8g().b[2][0]++;cov_1schraav8g().s[14]++;errors.push({username:"Pseudo non valide"});cov_1schraav8g().s[15]++;hasErrors=true;}else{cov_1schraav8g().b[2][1]++;}}};function emailValidator(email){cov_1schraav8g().f[2]++;const patternEmail=(cov_1schraav8g().s[16]++,/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/);cov_1schraav8g().s[17]++;if(!email){cov_1schraav8g().b[3][0]++;cov_1schraav8g().s[18]++;errors.push({email:"L'email et requis"});cov_1schraav8g().s[19]++;hasErrors=true;}else{cov_1schraav8g().b[3][1]++;cov_1schraav8g().s[20]++;if(patternEmail.test(email)===false){cov_1schraav8g().b[4][0]++;cov_1schraav8g().s[21]++;errors.push({email:"Email non valide"});cov_1schraav8g().s[22]++;hasErrors=true;}else{cov_1schraav8g().b[4][1]++;}}};function passwordValidator(password){cov_1schraav8g().f[3]++;const patternPassword=(cov_1schraav8g().s[23]++,/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/);cov_1schraav8g().s[24]++;if(!password){cov_1schraav8g().b[5][0]++;cov_1schraav8g().s[25]++;errors.push({password:"Le password et requis"});cov_1schraav8g().s[26]++;hasErrors=true;}else{cov_1schraav8g().b[5][1]++;cov_1schraav8g().s[27]++;if(patternPassword.test(password)===false){cov_1schraav8g().b[6][0]++;cov_1schraav8g().s[28]++;errors.push({password:"Password non valide"});cov_1schraav8g().s[29]++;hasErrors=true;}else{cov_1schraav8g().b[6][1]++;}}};};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwZGF0ZVZhbGlkYXRvci5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicmVxIiwicmVzIiwibmV4dCIsImhhc0Vycm9ycyIsImVycm9ycyIsInVzZXJuYW1lVmFsaWRhdG9yIiwiYm9keSIsInVzZXJuYW1lIiwiZW1haWxWYWxpZGF0b3IiLCJlbWFpbCIsInBhc3N3b3JkVmFsaWRhdG9yIiwicGFzc3dvcmQiLCJzdGF0dXMiLCJqc29uIiwicGF0dGVyblBzZXVkbyIsInB1c2giLCJ0ZXN0IiwicGF0dGVybkVtYWlsIiwicGF0dGVyblBhc3N3b3JkIl0sIm1hcHBpbmdzIjoiQUFBQSxhLG03SUFlWTttSEFiWkEsTUFBTSxDQUFDQyxPQUFQLENBQWlCLENBQUNDLEdBQUQsQ0FBTUMsR0FBTixDQUFXQyxJQUFYLEdBQW9CLHlCQUNqQyxHQUFJQyxDQUFBQSxTQUFTLDBCQUFHLEtBQUgsQ0FBYixDQUNBLEdBQUlDLENBQUFBLE1BQU0sMEJBQUcsRUFBSCxDQUFWLENBRmlDLHdCQUdqQ0MsaUJBQWlCLENBQUNMLEdBQUcsQ0FBQ00sSUFBSixDQUFTQyxRQUFWLENBQWpCLENBSGlDLHdCQUlqQ0MsY0FBYyxDQUFDUixHQUFHLENBQUNNLElBQUosQ0FBU0csS0FBVixDQUFkLENBSmlDLHdCQUtqQ0MsaUJBQWlCLENBQUNWLEdBQUcsQ0FBQ00sSUFBSixDQUFTSyxRQUFWLENBQWpCLENBTGlDLHdCQVNqQyxHQUFJUixTQUFTLEdBQUssSUFBbEIsQ0FBd0Isb0RBQ3BCRixHQUFHLENBQUNXLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixDQUNqQlQsTUFBTSxDQUFFQSxNQURTLENBQXJCLEVBR0gsQ0FKRCxJQUlPLG9EQUNIRixJQUFJLEdBQ1AsQ0FFRCxRQUFTRyxDQUFBQSxpQkFBVCxDQUEyQkUsUUFBM0IsQ0FBcUMseUJBQ2pDLEtBQU1PLENBQUFBLGFBQWEsMEJBQUcseUJBQUgsQ0FBbkIsQ0FEaUMseUJBRWpDLEdBQUksQ0FBQ1AsUUFBTCxDQUFlLHFEQUNYSCxNQUFNLENBQUNXLElBQVAsQ0FBWSxDQUNSUixRQUFRLENBQUUscUJBREYsQ0FBWixFQURXLHlCQUlYSixTQUFTLENBQUcsSUFBWixDQUNILENBTEQsSUFLTyx3REFBSVcsYUFBYSxDQUFDRSxJQUFkLENBQW1CVCxRQUFuQixJQUFpQyxLQUFyQyxDQUE0QyxxREFDL0NILE1BQU0sQ0FBQ1csSUFBUCxDQUFZLENBQ1JSLFFBQVEsQ0FBRSxtQkFERixDQUFaLEVBRCtDLHlCQUkvQ0osU0FBUyxDQUFHLElBQVosQ0FDSCxDQUxNLGlDQUtOLENBQ0osRUFFRCxRQUFTSyxDQUFBQSxjQUFULENBQXdCQyxLQUF4QixDQUErQix5QkFDM0IsS0FBTVEsQ0FBQUEsWUFBWSwyQkFBRyxrQ0FBSCxDQUFsQixDQUQyQix5QkFFM0IsR0FBSSxDQUFDUixLQUFMLENBQVkscURBQ1JMLE1BQU0sQ0FBQ1csSUFBUCxDQUFZLENBQ1JOLEtBQUssQ0FBRSxtQkFEQyxDQUFaLEVBRFEseUJBSVJOLFNBQVMsQ0FBRyxJQUFaLENBQ0gsQ0FMRCxJQUtPLHdEQUFJYyxZQUFZLENBQUNELElBQWIsQ0FBa0JQLEtBQWxCLElBQTZCLEtBQWpDLENBQXdDLHFEQUMzQ0wsTUFBTSxDQUFDVyxJQUFQLENBQVksQ0FDUk4sS0FBSyxDQUFFLGtCQURDLENBQVosRUFEMkMseUJBSTNDTixTQUFTLENBQUcsSUFBWixDQUNILENBTE0saUNBS04sQ0FDSixFQUVELFFBQVNPLENBQUFBLGlCQUFULENBQTJCQyxRQUEzQixDQUFxQyx5QkFDakMsS0FBTU8sQ0FBQUEsZUFBZSwyQkFBRyxnRUFBSCxDQUFyQixDQURpQyx5QkFFakMsR0FBSSxDQUFDUCxRQUFMLENBQWUscURBQ1hQLE1BQU0sQ0FBQ1csSUFBUCxDQUFZLENBQ1JKLFFBQVEsQ0FBRSx1QkFERixDQUFaLEVBRFcseUJBSVhSLFNBQVMsQ0FBRyxJQUFaLENBQ0gsQ0FMRCxJQUtPLHdEQUNIZSxlQUFlLENBQUNGLElBQWhCLENBQXFCTCxRQUFyQixJQUFtQyxLQURoQyxDQUVMLHFEQUNFUCxNQUFNLENBQUNXLElBQVAsQ0FBWSxDQUNSSixRQUFRLENBQUUscUJBREYsQ0FBWixFQURGLHlCQUlFUixTQUFTLENBQUcsSUFBWixDQUNILENBUE0saUNBT04sQ0FDSixFQUVKLENBaEVEIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgbGV0IGhhc0Vycm9ycyA9IGZhbHNlO1xuICAgIGxldCBlcnJvcnMgPSBbXTtcbiAgICB1c2VybmFtZVZhbGlkYXRvcihyZXEuYm9keS51c2VybmFtZSlcbiAgICBlbWFpbFZhbGlkYXRvcihyZXEuYm9keS5lbWFpbClcbiAgICBwYXNzd29yZFZhbGlkYXRvcihyZXEuYm9keS5wYXNzd29yZClcbiAgICAgICBcbiAgICBcblxuICAgIGlmIChoYXNFcnJvcnMgPT09IHRydWUpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MjIpLmpzb24oe1xuICAgICAgICAgICAgZXJyb3JzOiBlcnJvcnMsXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHQoKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVzZXJuYW1lVmFsaWRhdG9yKHVzZXJuYW1lKSB7XG4gICAgICAgIGNvbnN0IHBhdHRlcm5Qc2V1ZG8gPSAvXihbYS16QS1aMC05LV9dezIsMzZ9KSQvO1xuICAgICAgICBpZiAoIXVzZXJuYW1lKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IFwiTGUgcHNldWRvIGV0IHJlcXVpc1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGhhc0Vycm9ycyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAocGF0dGVyblBzZXVkby50ZXN0KHVzZXJuYW1lKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogXCJQc2V1ZG8gbm9uIHZhbGlkZVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGhhc0Vycm9ycyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZW1haWxWYWxpZGF0b3IoZW1haWwpIHtcbiAgICAgICAgY29uc3QgcGF0dGVybkVtYWlsID0gL15bXFx3LVxcLl0rQChbXFx3LV0rXFwuKStbXFx3LV17Miw0fSQvO1xuICAgICAgICBpZiAoIWVtYWlsKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgZW1haWw6IFwiTCdlbWFpbCBldCByZXF1aXNcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBoYXNFcnJvcnMgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHBhdHRlcm5FbWFpbC50ZXN0KGVtYWlsKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBlbWFpbDogXCJFbWFpbCBub24gdmFsaWRlXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaGFzRXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBwYXNzd29yZFZhbGlkYXRvcihwYXNzd29yZCkge1xuICAgICAgICBjb25zdCBwYXR0ZXJuUGFzc3dvcmQgPSAvXig/PS4qW2Etel0pKD89LipbQS1aXSkoPz0uKlswLTldKSg/PS4qWyFAI1xcJCVcXF4mXFwqXSkoPz0uezgsfSkvO1xuICAgICAgICBpZiAoIXBhc3N3b3JkKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IFwiTGUgcGFzc3dvcmQgZXQgcmVxdWlzXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaGFzRXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIHBhdHRlcm5QYXNzd29yZC50ZXN0KHBhc3N3b3JkKSA9PT0gZmFsc2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IFwiUGFzc3dvcmQgbm9uIHZhbGlkZVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGhhc0Vycm9ycyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG59OyJdfQ==