"use strict";function cov_1y8uvcoq5h(){var path="/home/noydono/Documents/worldcraft/back /app/middleware/registerValidator.js";var hash="fac33b461a32b3afdd2bfa12106fc11fbfebe5ad";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/noydono/Documents/worldcraft/back /app/middleware/registerValidator.js",statementMap:{"0":{start:{line:3,column:0},end:{line:66,column:2}},"1":{start:{line:4,column:20},end:{line:4,column:25}},"2":{start:{line:5,column:17},end:{line:5,column:19}},"3":{start:{line:6,column:4},end:{line:6,column:38}},"4":{start:{line:7,column:4},end:{line:7,column:34}},"5":{start:{line:8,column:4},end:{line:8,column:40}},"6":{start:{line:11,column:4},end:{line:17,column:5}},"7":{start:{line:12,column:8},end:{line:14,column:11}},"8":{start:{line:16,column:8},end:{line:16,column:14}},"9":{start:{line:20,column:30},end:{line:20,column:55}},"10":{start:{line:21,column:8},end:{line:31,column:9}},"11":{start:{line:22,column:12},end:{line:24,column:15}},"12":{start:{line:25,column:12},end:{line:25,column:29}},"13":{start:{line:26,column:15},end:{line:31,column:9}},"14":{start:{line:27,column:12},end:{line:29,column:15}},"15":{start:{line:30,column:12},end:{line:30,column:29}},"16":{start:{line:35,column:29},end:{line:35,column:63}},"17":{start:{line:36,column:8},end:{line:46,column:9}},"18":{start:{line:37,column:12},end:{line:39,column:15}},"19":{start:{line:40,column:12},end:{line:40,column:29}},"20":{start:{line:41,column:15},end:{line:46,column:9}},"21":{start:{line:42,column:12},end:{line:44,column:15}},"22":{start:{line:45,column:12},end:{line:45,column:29}},"23":{start:{line:50,column:32},end:{line:50,column:96}},"24":{start:{line:51,column:8},end:{line:63,column:9}},"25":{start:{line:52,column:12},end:{line:54,column:15}},"26":{start:{line:55,column:12},end:{line:55,column:29}},"27":{start:{line:56,column:15},end:{line:63,column:9}},"28":{start:{line:59,column:12},end:{line:61,column:15}},"29":{start:{line:62,column:12},end:{line:62,column:29}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:17},end:{line:3,column:18}},loc:{start:{line:3,column:37},end:{line:66,column:1}},line:3},"1":{name:"pseudoValidator",decl:{start:{line:19,column:13},end:{line:19,column:28}},loc:{start:{line:19,column:39},end:{line:32,column:5}},line:19},"2":{name:"emailValidator",decl:{start:{line:34,column:13},end:{line:34,column:27}},loc:{start:{line:34,column:35},end:{line:47,column:5}},line:34},"3":{name:"passwordValidator",decl:{start:{line:49,column:13},end:{line:49,column:30}},loc:{start:{line:49,column:41},end:{line:64,column:5}},line:49}},branchMap:{"0":{loc:{start:{line:11,column:4},end:{line:17,column:5}},type:"if",locations:[{start:{line:11,column:4},end:{line:17,column:5}},{start:{line:11,column:4},end:{line:17,column:5}}],line:11},"1":{loc:{start:{line:21,column:8},end:{line:31,column:9}},type:"if",locations:[{start:{line:21,column:8},end:{line:31,column:9}},{start:{line:21,column:8},end:{line:31,column:9}}],line:21},"2":{loc:{start:{line:26,column:15},end:{line:31,column:9}},type:"if",locations:[{start:{line:26,column:15},end:{line:31,column:9}},{start:{line:26,column:15},end:{line:31,column:9}}],line:26},"3":{loc:{start:{line:36,column:8},end:{line:46,column:9}},type:"if",locations:[{start:{line:36,column:8},end:{line:46,column:9}},{start:{line:36,column:8},end:{line:46,column:9}}],line:36},"4":{loc:{start:{line:41,column:15},end:{line:46,column:9}},type:"if",locations:[{start:{line:41,column:15},end:{line:46,column:9}},{start:{line:41,column:15},end:{line:46,column:9}}],line:41},"5":{loc:{start:{line:51,column:8},end:{line:63,column:9}},type:"if",locations:[{start:{line:51,column:8},end:{line:63,column:9}},{start:{line:51,column:8},end:{line:63,column:9}}],line:51},"6":{loc:{start:{line:56,column:15},end:{line:63,column:9}},type:"if",locations:[{start:{line:56,column:15},end:{line:63,column:9}},{start:{line:56,column:15},end:{line:63,column:9}}],line:56}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fac33b461a32b3afdd2bfa12106fc11fbfebe5ad"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1y8uvcoq5h=function(){return actualCoverage;};}return actualCoverage;}cov_1y8uvcoq5h();cov_1y8uvcoq5h().s[0]++;module.exports=(req,res,next)=>{cov_1y8uvcoq5h().f[0]++;let hasErrors=(cov_1y8uvcoq5h().s[1]++,false);let errors=(cov_1y8uvcoq5h().s[2]++,[]);cov_1y8uvcoq5h().s[3]++;pseudoValidator(req.body.username);cov_1y8uvcoq5h().s[4]++;emailValidator(req.body.email);cov_1y8uvcoq5h().s[5]++;passwordValidator(req.body.password);cov_1y8uvcoq5h().s[6]++;if(hasErrors===true){cov_1y8uvcoq5h().b[0][0]++;cov_1y8uvcoq5h().s[7]++;res.status(422).json({errors:errors});}else{cov_1y8uvcoq5h().b[0][1]++;cov_1y8uvcoq5h().s[8]++;next();}function pseudoValidator(username){cov_1y8uvcoq5h().f[1]++;const patternPseudo=(cov_1y8uvcoq5h().s[9]++,/^([a-zA-Z0-9-_]{2,36})$/);cov_1y8uvcoq5h().s[10]++;if(!username){cov_1y8uvcoq5h().b[1][0]++;cov_1y8uvcoq5h().s[11]++;errors.push({username:"Le pseudo et requis"});cov_1y8uvcoq5h().s[12]++;hasErrors=true;}else{cov_1y8uvcoq5h().b[1][1]++;cov_1y8uvcoq5h().s[13]++;if(patternPseudo.test(username)===false){cov_1y8uvcoq5h().b[2][0]++;cov_1y8uvcoq5h().s[14]++;errors.push({username:"Pseudo non valide"});cov_1y8uvcoq5h().s[15]++;hasErrors=true;}else{cov_1y8uvcoq5h().b[2][1]++;}}};function emailValidator(email){cov_1y8uvcoq5h().f[2]++;const patternEmail=(cov_1y8uvcoq5h().s[16]++,/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/);cov_1y8uvcoq5h().s[17]++;if(!email){cov_1y8uvcoq5h().b[3][0]++;cov_1y8uvcoq5h().s[18]++;errors.push({email:"L'email et requis"});cov_1y8uvcoq5h().s[19]++;hasErrors=true;}else{cov_1y8uvcoq5h().b[3][1]++;cov_1y8uvcoq5h().s[20]++;if(patternEmail.test(email)===false){cov_1y8uvcoq5h().b[4][0]++;cov_1y8uvcoq5h().s[21]++;errors.push({email:"Email non valide"});cov_1y8uvcoq5h().s[22]++;hasErrors=true;}else{cov_1y8uvcoq5h().b[4][1]++;}}};function passwordValidator(password){cov_1y8uvcoq5h().f[3]++;const patternPassword=(cov_1y8uvcoq5h().s[23]++,/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/);cov_1y8uvcoq5h().s[24]++;if(!password){cov_1y8uvcoq5h().b[5][0]++;cov_1y8uvcoq5h().s[25]++;errors.push({password:"Le password et requis"});cov_1y8uvcoq5h().s[26]++;hasErrors=true;}else{cov_1y8uvcoq5h().b[5][1]++;cov_1y8uvcoq5h().s[27]++;if(patternPassword.test(password)===false){cov_1y8uvcoq5h().b[6][0]++;cov_1y8uvcoq5h().s[28]++;errors.push({password:"Password non valide"});cov_1y8uvcoq5h().s[29]++;hasErrors=true;}else{cov_1y8uvcoq5h().b[6][1]++;}}};};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZ2lzdGVyVmFsaWRhdG9yLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGFzRXJyb3JzIiwiZXJyb3JzIiwicHNldWRvVmFsaWRhdG9yIiwiYm9keSIsInVzZXJuYW1lIiwiZW1haWxWYWxpZGF0b3IiLCJlbWFpbCIsInBhc3N3b3JkVmFsaWRhdG9yIiwicGFzc3dvcmQiLCJzdGF0dXMiLCJqc29uIiwicGF0dGVyblBzZXVkbyIsInB1c2giLCJ0ZXN0IiwicGF0dGVybkVtYWlsIiwicGF0dGVyblBhc3N3b3JkIl0sIm1hcHBpbmdzIjoiQUFBQSxhLHk3SUFlWTttSEFiWkEsTUFBTSxDQUFDQyxPQUFQLENBQWlCLENBQUNDLEdBQUQsQ0FBTUMsR0FBTixDQUFXQyxJQUFYLEdBQW9CLHlCQUNqQyxHQUFJQyxDQUFBQSxTQUFTLDBCQUFHLEtBQUgsQ0FBYixDQUNBLEdBQUlDLENBQUFBLE1BQU0sMEJBQUcsRUFBSCxDQUFWLENBRmlDLHdCQUdqQ0MsZUFBZSxDQUFDTCxHQUFHLENBQUNNLElBQUosQ0FBU0MsUUFBVixDQUFmLENBSGlDLHdCQUlqQ0MsY0FBYyxDQUFDUixHQUFHLENBQUNNLElBQUosQ0FBU0csS0FBVixDQUFkLENBSmlDLHdCQUtqQ0MsaUJBQWlCLENBQUNWLEdBQUcsQ0FBQ00sSUFBSixDQUFTSyxRQUFWLENBQWpCLENBTGlDLHdCQVFqQyxHQUFJUixTQUFTLEdBQUssSUFBbEIsQ0FBd0Isb0RBQ3BCRixHQUFHLENBQUNXLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixDQUNqQlQsTUFBTSxDQUFFQSxNQURTLENBQXJCLEVBR0gsQ0FKRCxJQUlPLG9EQUNIRixJQUFJLEdBQ1AsQ0FFRCxRQUFTRyxDQUFBQSxlQUFULENBQXlCRSxRQUF6QixDQUFtQyx5QkFDL0IsS0FBTU8sQ0FBQUEsYUFBYSwwQkFBRyx5QkFBSCxDQUFuQixDQUQrQix5QkFFL0IsR0FBSSxDQUFDUCxRQUFMLENBQWUscURBQ1hILE1BQU0sQ0FBQ1csSUFBUCxDQUFZLENBQ1JSLFFBQVEsQ0FBRSxxQkFERixDQUFaLEVBRFcseUJBSVhKLFNBQVMsQ0FBRyxJQUFaLENBQ0gsQ0FMRCxJQUtPLHdEQUFJVyxhQUFhLENBQUNFLElBQWQsQ0FBbUJULFFBQW5CLElBQWlDLEtBQXJDLENBQTRDLHFEQUMvQ0gsTUFBTSxDQUFDVyxJQUFQLENBQVksQ0FDUlIsUUFBUSxDQUFFLG1CQURGLENBQVosRUFEK0MseUJBSS9DSixTQUFTLENBQUcsSUFBWixDQUNILENBTE0saUNBS04sQ0FDSixFQUVELFFBQVNLLENBQUFBLGNBQVQsQ0FBd0JDLEtBQXhCLENBQStCLHlCQUMzQixLQUFNUSxDQUFBQSxZQUFZLDJCQUFHLGtDQUFILENBQWxCLENBRDJCLHlCQUUzQixHQUFJLENBQUNSLEtBQUwsQ0FBWSxxREFDUkwsTUFBTSxDQUFDVyxJQUFQLENBQVksQ0FDUk4sS0FBSyxDQUFFLG1CQURDLENBQVosRUFEUSx5QkFJUk4sU0FBUyxDQUFHLElBQVosQ0FDSCxDQUxELElBS08sd0RBQUljLFlBQVksQ0FBQ0QsSUFBYixDQUFrQlAsS0FBbEIsSUFBNkIsS0FBakMsQ0FBd0MscURBQzNDTCxNQUFNLENBQUNXLElBQVAsQ0FBWSxDQUNSTixLQUFLLENBQUUsa0JBREMsQ0FBWixFQUQyQyx5QkFJM0NOLFNBQVMsQ0FBRyxJQUFaLENBQ0gsQ0FMTSxpQ0FLTixDQUNKLEVBRUQsUUFBU08sQ0FBQUEsaUJBQVQsQ0FBMkJDLFFBQTNCLENBQXFDLHlCQUNqQyxLQUFNTyxDQUFBQSxlQUFlLDJCQUFHLGdFQUFILENBQXJCLENBRGlDLHlCQUVqQyxHQUFJLENBQUNQLFFBQUwsQ0FBZSxxREFDWFAsTUFBTSxDQUFDVyxJQUFQLENBQVksQ0FDUkosUUFBUSxDQUFFLHVCQURGLENBQVosRUFEVyx5QkFJWFIsU0FBUyxDQUFHLElBQVosQ0FDSCxDQUxELElBS08sd0RBQ0hlLGVBQWUsQ0FBQ0YsSUFBaEIsQ0FBcUJMLFFBQXJCLElBQW1DLEtBRGhDLENBRUwscURBQ0VQLE1BQU0sQ0FBQ1csSUFBUCxDQUFZLENBQ1JKLFFBQVEsQ0FBRSxxQkFERixDQUFaLEVBREYseUJBSUVSLFNBQVMsQ0FBRyxJQUFaLENBQ0gsQ0FQTSxpQ0FPTixDQUNKLEVBRUosQ0EvREQiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBsZXQgaGFzRXJyb3JzID0gZmFsc2U7XG4gICAgbGV0IGVycm9ycyA9IFtdO1xuICAgIHBzZXVkb1ZhbGlkYXRvcihyZXEuYm9keS51c2VybmFtZSlcbiAgICBlbWFpbFZhbGlkYXRvcihyZXEuYm9keS5lbWFpbClcbiAgICBwYXNzd29yZFZhbGlkYXRvcihyZXEuYm9keS5wYXNzd29yZClcbiAgICBcblxuICAgIGlmIChoYXNFcnJvcnMgPT09IHRydWUpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MjIpLmpzb24oe1xuICAgICAgICAgICAgZXJyb3JzOiBlcnJvcnMsXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHQoKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBzZXVkb1ZhbGlkYXRvcih1c2VybmFtZSkge1xuICAgICAgICBjb25zdCBwYXR0ZXJuUHNldWRvID0gL14oW2EtekEtWjAtOS1fXXsyLDM2fSkkLztcbiAgICAgICAgaWYgKCF1c2VybmFtZSkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBcIkxlIHBzZXVkbyBldCByZXF1aXNcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBoYXNFcnJvcnMgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHBhdHRlcm5Qc2V1ZG8udGVzdCh1c2VybmFtZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IFwiUHNldWRvIG5vbiB2YWxpZGVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBoYXNFcnJvcnMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGVtYWlsVmFsaWRhdG9yKGVtYWlsKSB7XG4gICAgICAgIGNvbnN0IHBhdHRlcm5FbWFpbCA9IC9eW1xcdy1cXC5dK0AoW1xcdy1dK1xcLikrW1xcdy1dezIsNH0kLztcbiAgICAgICAgaWYgKCFlbWFpbCkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgIGVtYWlsOiBcIkwnZW1haWwgZXQgcmVxdWlzXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaGFzRXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXR0ZXJuRW1haWwudGVzdChlbWFpbCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgZW1haWw6IFwiRW1haWwgbm9uIHZhbGlkZVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGhhc0Vycm9ycyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcGFzc3dvcmRWYWxpZGF0b3IocGFzc3dvcmQpIHtcbiAgICAgICAgY29uc3QgcGF0dGVyblBhc3N3b3JkID0gL14oPz0uKlthLXpdKSg/PS4qW0EtWl0pKD89LipbMC05XSkoPz0uKlshQCNcXCQlXFxeJlxcKl0pKD89Lns4LH0pLztcbiAgICAgICAgaWYgKCFwYXNzd29yZCkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBcIkxlIHBhc3N3b3JkIGV0IHJlcXVpc1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGhhc0Vycm9ycyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBwYXR0ZXJuUGFzc3dvcmQudGVzdChwYXNzd29yZCkgPT09IGZhbHNlXG4gICAgICAgICkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBcIlBhc3N3b3JkIG5vbiB2YWxpZGVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBoYXNFcnJvcnMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxufTsiXX0=