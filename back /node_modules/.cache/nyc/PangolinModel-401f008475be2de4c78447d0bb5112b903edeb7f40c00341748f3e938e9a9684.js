function cov_2pj4ykrbra(){var path="/home/noydono/Documents/Git/Pangolin/back/app/models/PangolinModel.js";var hash="f76f4e7a8e54f3492b641a61b8aad6c06e7635e3";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/noydono/Documents/Git/Pangolin/back/app/models/PangolinModel.js",statementMap:{"0":{start:{line:1,column:17},end:{line:1,column:36}},"1":{start:{line:2,column:15},end:{line:2,column:32}},"2":{start:{line:3,column:12},end:{line:3,column:35}},"3":{start:{line:5,column:15},end:{line:8,column:3}},"4":{start:{line:9,column:23},end:{line:44,column:2}},"5":{start:{line:46,column:0},end:{line:59,column:2}},"6":{start:{line:47,column:4},end:{line:58,column:5}},"7":{start:{line:48,column:8},end:{line:55,column:10}},"8":{start:{line:50,column:12},end:{line:52,column:13}},"9":{start:{line:53,column:12},end:{line:53,column:37}},"10":{start:{line:54,column:12},end:{line:54,column:18}},"11":{start:{line:57,column:8},end:{line:57,column:14}},"12":{start:{line:61,column:0},end:{line:76,column:2}},"13":{start:{line:62,column:21},end:{line:62,column:25}},"14":{start:{line:63,column:18},end:{line:71,column:10}},"15":{start:{line:72,column:4},end:{line:74,column:7}},"16":{start:{line:75,column:4},end:{line:75,column:17}},"17":{start:{line:79,column:0},end:{line:110,column:2}},"18":{start:{line:81,column:17},end:{line:81,column:19}},"19":{start:{line:83,column:21},end:{line:85,column:6}},"20":{start:{line:86,column:4},end:{line:94,column:5}},"21":{start:{line:87,column:8},end:{line:89,column:11}},"22":{start:{line:90,column:8},end:{line:93,column:10}},"23":{start:{line:96,column:28},end:{line:96,column:77}},"24":{start:{line:97,column:4},end:{line:105,column:5}},"25":{start:{line:98,column:8},end:{line:100,column:11}},"26":{start:{line:101,column:8},end:{line:104,column:10}},"27":{start:{line:106,column:4},end:{line:106,column:20}},"28":{start:{line:111,column:17},end:{line:111,column:59}},"29":{start:{line:112,column:0},end:{line:112,column:26}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:46,column:27},end:{line:46,column:28}},loc:{start:{line:46,column:43},end:{line:59,column:1}},line:46},"1":{name:"(anonymous_1)",decl:{start:{line:48,column:39},end:{line:48,column:40}},loc:{start:{line:48,column:59},end:{line:55,column:9}},line:48},"2":{name:"(anonymous_2)",decl:{start:{line:61,column:43},end:{line:61,column:44}},loc:{start:{line:61,column:61},end:{line:76,column:1}},line:61},"3":{name:"(anonymous_3)",decl:{start:{line:79,column:43},end:{line:79,column:44}},loc:{start:{line:79,column:70},end:{line:110,column:1}},line:79}},branchMap:{"0":{loc:{start:{line:47,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:58,column:5}},{start:{line:47,column:4},end:{line:58,column:5}}],line:47},"1":{loc:{start:{line:50,column:12},end:{line:52,column:13}},type:"if",locations:[{start:{line:50,column:12},end:{line:52,column:13}}],line:50},"2":{loc:{start:{line:86,column:4},end:{line:94,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:94,column:5}},{start:{line:86,column:4},end:{line:94,column:5}}],line:86},"3":{loc:{start:{line:97,column:4},end:{line:105,column:5}},type:"if",locations:[{start:{line:97,column:4},end:{line:105,column:5}},{start:{line:97,column:4},end:{line:105,column:5}}],line:97}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0],"2":[0,0],"3":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f76f4e7a8e54f3492b641a61b8aad6c06e7635e3"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2pj4ykrbra=function(){return actualCoverage;};}return actualCoverage;}cov_2pj4ykrbra();const mongoose=(cov_2pj4ykrbra().s[0]++,require("mongoose"));const bcrypt=(cov_2pj4ykrbra().s[1]++,require("bcrypt"));const jwt=(cov_2pj4ykrbra().s[2]++,require("jsonwebtoken"));const Friend=(cov_2pj4ykrbra().s[3]++,mongoose.model('friends',mongoose.Schema({_id:String,username:String})));const pangolinSchema=(cov_2pj4ykrbra().s[4]++,mongoose.Schema({username:{type:String,required:[true,"Pseudo obligatoire"]},email:{type:String,required:[true,"Email obligatoire"]},password:{type:String},race:String,food:String,age:Number,famille:String,friends:[{type:Array,ref:'Friend'}],isActive:{type:Boolean,default:false},tokens:[{token:{type:String,required:true}}]},{timestamps:{createdAt:'created_at'}}));cov_2pj4ykrbra().s[5]++;pangolinSchema.pre('save',function(next){cov_2pj4ykrbra().f[0]++;cov_2pj4ykrbra().s[6]++;if(this.password){cov_2pj4ykrbra().b[0][0]++;cov_2pj4ykrbra().s[7]++;bcrypt.hash(this.password,10,(err,encrypted)=>{cov_2pj4ykrbra().f[1]++;cov_2pj4ykrbra().s[8]++;/* istanbul ignore if */if(err){console.log("LogModelUserEncrytpePassword: "+err);}else{cov_2pj4ykrbra().b[1][0]++;}cov_2pj4ykrbra().s[9]++;this.password=encrypted;cov_2pj4ykrbra().s[10]++;next();});}else{cov_2pj4ykrbra().b[0][1]++;cov_2pj4ykrbra().s[11]++;next();}});cov_2pj4ykrbra().s[12]++;pangolinSchema.methods.generateAuthToken=async function(){cov_2pj4ykrbra().f[2]++;const pangolin=(cov_2pj4ykrbra().s[13]++,this);const token=(cov_2pj4ykrbra().s[14]++,jwt.sign({_id:pangolin._id,username:pangolin.username,email:pangolin.email,created_at:pangolin.created_at},process.env.USERSECRET,{expiresIn:'2h'}));cov_2pj4ykrbra().s[15]++;pangolin.tokens=pangolin.tokens.concat({token});cov_2pj4ykrbra().s[16]++;return token;};cov_2pj4ykrbra().s[17]++;pangolinSchema.statics.findByCredentials=async(email,password)=>{cov_2pj4ykrbra().f[3]++;let errors=(cov_2pj4ykrbra().s[18]++,[]);const pangolin=(cov_2pj4ykrbra().s[19]++,await Pangolin.findOne({email:email}));cov_2pj4ykrbra().s[20]++;if(!pangolin){cov_2pj4ykrbra().b[2][0]++;cov_2pj4ykrbra().s[21]++;errors.push({email:"L'email n'est pas existante"});cov_2pj4ykrbra().s[22]++;return{hasErrors:true,errors:errors};}else{cov_2pj4ykrbra().b[2][1]++;}const isPasswordMatch=(cov_2pj4ykrbra().s[23]++,await bcrypt.compare(password,pangolin.password));cov_2pj4ykrbra().s[24]++;if(isPasswordMatch===false){cov_2pj4ykrbra().b[3][0]++;cov_2pj4ykrbra().s[25]++;errors.push({password:"Password doesn't match"});cov_2pj4ykrbra().s[26]++;return{hasErrors:true,errors:errors};}else{cov_2pj4ykrbra().b[3][1]++;}cov_2pj4ykrbra().s[27]++;return pangolin;};const Pangolin=(cov_2pj4ykrbra().s[28]++,mongoose.model("Pangolin",pangolinSchema));cov_2pj4ykrbra().s[29]++;module.exports=Pangolin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBhbmdvbGluTW9kZWwuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiYmNyeXB0Iiwiand0IiwiRnJpZW5kIiwibW9kZWwiLCJTY2hlbWEiLCJfaWQiLCJTdHJpbmciLCJ1c2VybmFtZSIsInBhbmdvbGluU2NoZW1hIiwidHlwZSIsInJlcXVpcmVkIiwiZW1haWwiLCJwYXNzd29yZCIsInJhY2UiLCJmb29kIiwiYWdlIiwiTnVtYmVyIiwiZmFtaWxsZSIsImZyaWVuZHMiLCJBcnJheSIsInJlZiIsImlzQWN0aXZlIiwiQm9vbGVhbiIsImRlZmF1bHQiLCJ0b2tlbnMiLCJ0b2tlbiIsInRpbWVzdGFtcHMiLCJjcmVhdGVkQXQiLCJwcmUiLCJuZXh0IiwiaGFzaCIsImVyciIsImVuY3J5cHRlZCIsImNvbnNvbGUiLCJsb2ciLCJtZXRob2RzIiwiZ2VuZXJhdGVBdXRoVG9rZW4iLCJwYW5nb2xpbiIsInNpZ24iLCJjcmVhdGVkX2F0IiwicHJvY2VzcyIsImVudiIsIlVTRVJTRUNSRVQiLCJleHBpcmVzSW4iLCJjb25jYXQiLCJzdGF0aWNzIiwiZmluZEJ5Q3JlZGVudGlhbHMiLCJlcnJvcnMiLCJQYW5nb2xpbiIsImZpbmRPbmUiLCJwdXNoIiwiaGFzRXJyb3JzIiwiaXNQYXNzd29yZE1hdGNoIiwiY29tcGFyZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJneUhBZVk7MkZBZlosS0FBTUEsQ0FBQUEsUUFBUSwwQkFBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBVixDQUFkLENBQ0EsS0FBTUMsQ0FBQUEsTUFBTSwwQkFBR0QsT0FBTyxDQUFDLFFBQUQsQ0FBVixDQUFaLENBQ0EsS0FBTUUsQ0FBQUEsR0FBRywwQkFBR0YsT0FBTyxDQUFDLGNBQUQsQ0FBVixDQUFULENBRUEsS0FBTUcsQ0FBQUEsTUFBTSwwQkFBR0osUUFBUSxDQUFDSyxLQUFULENBQWUsU0FBZixDQUEwQkwsUUFBUSxDQUFDTSxNQUFULENBQWdCLENBQ3JEQyxHQUFH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QUFpQixDQUNwQ3RDLEtBQUssQ0FBRUEsS0FENkIsQ0FBakIsQ0FBVCxDQUFkLENBSmtFLHlCQU9sRSxHQUFJLENBQUMwQixRQUFMLENBQWUscURBQ1hVLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLENBQ1J2QyxLQUFLLENBQUUsNkJBREMsQ0FBWixFQURXLHlCQUlYLE1BQU8sQ0FDSHdDLFNBQVMsQ0FBRSxJQURSLENBRUhKLE1BQU0sQ0FBRUEsTUFGTCxDQUFQLENBSUgsQ0FSRCxpQ0FVQSxLQUFNSyxDQUFBQSxlQUFlLDJCQUFHLEtBQU1wRCxDQUFBQSxNQUFNLENBQUNxRCxPQUFQLENBQWV6QyxRQUFmLENBQXlCeUIsUUFBUSxDQUFDekIsUUFBbEMsQ0FBVCxDQUFyQixDQWpCa0UseUJBa0JsRSxHQUFJd0MsZUFBZSxHQUFLLEtBQXhCLENBQStCLHFEQUMzQkwsTUFBTSxDQUFDRyxJQUFQLENBQVksQ0FDUnRDLFFBQVEsQ0FBRSx3QkFERixDQUFaLEVBRDJCLHlCQUkzQixNQUFPLENBQ0h1QyxTQUFTLENBQUUsSUFEUixDQUVISixNQUFNLENBQUVBLE1BRkwsQ0FBUCxDQUlILENBUkQsaUNBbEJrRSx5QkEyQmxFLE1BQU9WLENBQUFBLFFBQVAsQ0FJSCxDQS9CRCxDQWdDQSxLQUFNVyxDQUFBQSxRQUFRLDJCQUFHbEQsUUFBUSxDQUFDSyxLQUFULENBQWUsVUFBZixDQUEyQkssY0FBM0IsQ0FBSCxDQUFkLEMseUJBQ0E4QyxNQUFNLENBQUNDLE9BQVAsQ0FBaUJQLFFBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKFwiYmNyeXB0XCIpO1xuY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcblxuY29uc3QgRnJpZW5kID0gbW9uZ29vc2UubW9kZWwoJ2ZyaWVuZHMnLCBtb25nb29zZS5TY2hlbWEoe1xuICAgIF9pZDogU3RyaW5nLFxuICAgIHVzZXJuYW1lOiBTdHJpbmdcbn0pKTtcbmNvbnN0IHBhbmdvbGluU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hKHtcblxuICAgIHVzZXJuYW1lOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCBcIlBzZXVkbyBvYmxpZ2F0b2lyZVwiXVxuICAgIH0sXG4gICAgZW1haWw6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogW3RydWUsIFwiRW1haWwgb2JsaWdhdG9pcmVcIl1cbiAgICB9LFxuICAgIHBhc3N3b3JkOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgcmFjZTogU3RyaW5nLFxuICAgIGZvb2Q6IFN0cmluZyxcbiAgICBhZ2U6IE51bWJlcixcbiAgICBmYW1pbGxlOiBTdHJpbmcsXG4gICAgZnJpZW5kczogW3tcbiAgICAgICAgdHlwZTogQXJyYXksXG4gICAgICAgIHJlZjogJ0ZyaWVuZCdcbiAgICB9XSxcbiAgICBpc0FjdGl2ZToge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH0sXG4gICAgdG9rZW5zOiBbe1xuICAgICAgICB0b2tlbjoge1xuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfVxuICAgIH1dXG59LCB7XG4gICAgdGltZXN0YW1wczoge1xuICAgICAgICBjcmVhdGVkQXQ6ICdjcmVhdGVkX2F0J1xuICAgIH1cbn0pO1xuXG5wYW5nb2xpblNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xuICAgIGlmICh0aGlzLnBhc3N3b3JkKSB7XG4gICAgICAgIGJjcnlwdC5oYXNoKHRoaXMucGFzc3dvcmQsIDEwLCAoZXJyLCBlbmNyeXB0ZWQpID0+IHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9nTW9kZWxVc2VyRW5jcnl0cGVQYXNzd29yZDogXCIgKyBlcnIpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBhc3N3b3JkID0gZW5jcnlwdGVkXG4gICAgICAgICAgICBuZXh0KClcbiAgICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0KClcbiAgICB9XG59KVxuXG5wYW5nb2xpblNjaGVtYS5tZXRob2RzLmdlbmVyYXRlQXV0aFRva2VuID0gYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHBhbmdvbGluID0gdGhpcztcbiAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHtcbiAgICAgICAgICAgIF9pZDogcGFuZ29saW4uX2lkLFxuICAgICAgICAgICAgdXNlcm5hbWU6IHBhbmdvbGluLnVzZXJuYW1lLFxuICAgICAgICAgICAgZW1haWw6IHBhbmdvbGluLmVtYWlsLFxuICAgICAgICAgICAgY3JlYXRlZF9hdDogcGFuZ29saW4uY3JlYXRlZF9hdCxcbiAgICAgICAgfSxcbiAgICAgICAgcHJvY2Vzcy5lbnYuVVNFUlNFQ1JFVCwge1xuICAgICAgICAgICAgZXhwaXJlc0luOiAnMmgnXG4gICAgICAgIH0pO1xuICAgIHBhbmdvbGluLnRva2VucyA9IHBhbmdvbGluLnRva2Vucy5jb25jYXQoe1xuICAgICAgICB0b2tlblxuICAgIH0pO1xuICAgIHJldHVybiB0b2tlbjtcbn07XG5cblxucGFuZ29saW5TY2hlbWEuc3RhdGljcy5maW5kQnlDcmVkZW50aWFscyA9IGFzeW5jIChlbWFpbCwgcGFzc3dvcmQpID0+IHtcblxuICAgIGxldCBlcnJvcnMgPSBbXVxuXG4gICAgY29uc3QgcGFuZ29saW4gPSBhd2FpdCBQYW5nb2xpbi5maW5kT25lKHtcbiAgICAgICAgZW1haWw6IGVtYWlsXG4gICAgfSk7XG4gICAgaWYgKCFwYW5nb2xpbikge1xuICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICBlbWFpbDogXCJMJ2VtYWlsIG4nZXN0IHBhcyBleGlzdGFudGVcIlxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhhc0Vycm9yczogdHJ1ZSxcbiAgICAgICAgICAgIGVycm9yczogZXJyb3JzXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgaXNQYXNzd29yZE1hdGNoID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHBhbmdvbGluLnBhc3N3b3JkKTtcbiAgICBpZiAoaXNQYXNzd29yZE1hdGNoID09PSBmYWxzZSkge1xuICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICBwYXNzd29yZDogXCJQYXNzd29yZCBkb2Vzbid0IG1hdGNoXCJcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoYXNFcnJvcnM6IHRydWUsXG4gICAgICAgICAgICBlcnJvcnM6IGVycm9yc1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcGFuZ29saW47XG5cblxuXG59O1xuY29uc3QgUGFuZ29saW4gPSBtb25nb29zZS5tb2RlbChcIlBhbmdvbGluXCIsIHBhbmdvbGluU2NoZW1hKTtcbm1vZHVsZS5leHBvcnRzID0gUGFuZ29saW47Il19