"use strict";function cov_1lc8m181pw(){var path="/home/noydono/Documents/Git/WorldCraft/app/middleware/registerValidator.js";var hash="dbff5804fc3af78a443d441d567b94c3438f1f74";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/noydono/Documents/Git/WorldCraft/app/middleware/registerValidator.js",statementMap:{"0":{start:{line:3,column:0},end:{line:70,column:2}},"1":{start:{line:4,column:20},end:{line:4,column:25}},"2":{start:{line:5,column:17},end:{line:5,column:19}},"3":{start:{line:6,column:4},end:{line:6,column:38}},"4":{start:{line:7,column:4},end:{line:7,column:34}},"5":{start:{line:9,column:4},end:{line:13,column:5}},"6":{start:{line:11,column:8},end:{line:11,column:44}},"7":{start:{line:15,column:4},end:{line:21,column:5}},"8":{start:{line:16,column:8},end:{line:18,column:11}},"9":{start:{line:20,column:8},end:{line:20,column:14}},"10":{start:{line:24,column:30},end:{line:24,column:55}},"11":{start:{line:25,column:8},end:{line:35,column:9}},"12":{start:{line:26,column:12},end:{line:28,column:15}},"13":{start:{line:29,column:12},end:{line:29,column:29}},"14":{start:{line:30,column:15},end:{line:35,column:9}},"15":{start:{line:31,column:12},end:{line:33,column:15}},"16":{start:{line:34,column:12},end:{line:34,column:29}},"17":{start:{line:39,column:29},end:{line:39,column:63}},"18":{start:{line:40,column:8},end:{line:50,column:9}},"19":{start:{line:41,column:12},end:{line:43,column:15}},"20":{start:{line:44,column:12},end:{line:44,column:29}},"21":{start:{line:45,column:15},end:{line:50,column:9}},"22":{start:{line:46,column:12},end:{line:48,column:15}},"23":{start:{line:49,column:12},end:{line:49,column:29}},"24":{start:{line:54,column:32},end:{line:54,column:96}},"25":{start:{line:55,column:8},end:{line:67,column:9}},"26":{start:{line:56,column:12},end:{line:58,column:15}},"27":{start:{line:59,column:12},end:{line:59,column:29}},"28":{start:{line:60,column:15},end:{line:67,column:9}},"29":{start:{line:63,column:12},end:{line:65,column:15}},"30":{start:{line:66,column:12},end:{line:66,column:29}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:17},end:{line:3,column:18}},loc:{start:{line:3,column:37},end:{line:70,column:1}},line:3},"1":{name:"pseudoValidator",decl:{start:{line:23,column:13},end:{line:23,column:28}},loc:{start:{line:23,column:39},end:{line:36,column:5}},line:23},"2":{name:"emailValidator",decl:{start:{line:38,column:13},end:{line:38,column:27}},loc:{start:{line:38,column:35},end:{line:51,column:5}},line:38},"3":{name:"passwordValidator",decl:{start:{line:53,column:13},end:{line:53,column:30}},loc:{start:{line:53,column:41},end:{line:68,column:5}},line:53}},branchMap:{"0":{loc:{start:{line:9,column:4},end:{line:13,column:5}},type:"if",locations:[{start:{line:9,column:4},end:{line:13,column:5}},{start:{line:9,column:4},end:{line:13,column:5}}],line:9},"1":{loc:{start:{line:15,column:4},end:{line:21,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:21,column:5}},{start:{line:15,column:4},end:{line:21,column:5}}],line:15},"2":{loc:{start:{line:25,column:8},end:{line:35,column:9}},type:"if",locations:[{start:{line:25,column:8},end:{line:35,column:9}},{start:{line:25,column:8},end:{line:35,column:9}}],line:25},"3":{loc:{start:{line:30,column:15},end:{line:35,column:9}},type:"if",locations:[{start:{line:30,column:15},end:{line:35,column:9}},{start:{line:30,column:15},end:{line:35,column:9}}],line:30},"4":{loc:{start:{line:40,column:8},end:{line:50,column:9}},type:"if",locations:[{start:{line:40,column:8},end:{line:50,column:9}},{start:{line:40,column:8},end:{line:50,column:9}}],line:40},"5":{loc:{start:{line:45,column:15},end:{line:50,column:9}},type:"if",locations:[{start:{line:45,column:15},end:{line:50,column:9}},{start:{line:45,column:15},end:{line:50,column:9}}],line:45},"6":{loc:{start:{line:55,column:8},end:{line:67,column:9}},type:"if",locations:[{start:{line:55,column:8},end:{line:67,column:9}},{start:{line:55,column:8},end:{line:67,column:9}}],line:55},"7":{loc:{start:{line:60,column:15},end:{line:67,column:9}},type:"if",locations:[{start:{line:60,column:15},end:{line:67,column:9}},{start:{line:60,column:15},end:{line:67,column:9}}],line:60}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"dbff5804fc3af78a443d441d567b94c3438f1f74"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1lc8m181pw=function(){return actualCoverage;};}return actualCoverage;}cov_1lc8m181pw();cov_1lc8m181pw().s[0]++;module.exports=(req,res,next)=>{cov_1lc8m181pw().f[0]++;let hasErrors=(cov_1lc8m181pw().s[1]++,false);let errors=(cov_1lc8m181pw().s[2]++,[]);cov_1lc8m181pw().s[3]++;pseudoValidator(req.body.username);cov_1lc8m181pw().s[4]++;emailValidator(req.body.email);cov_1lc8m181pw().s[5]++;if(req.body.isActive===true){cov_1lc8m181pw().b[0][0]++;cov_1lc8m181pw().s[6]++;passwordValidator(req.body.password);}else{cov_1lc8m181pw().b[0][1]++;}cov_1lc8m181pw().s[7]++;if(hasErrors===true){cov_1lc8m181pw().b[1][0]++;cov_1lc8m181pw().s[8]++;res.status(422).json({errors:errors});}else{cov_1lc8m181pw().b[1][1]++;cov_1lc8m181pw().s[9]++;next();}function pseudoValidator(username){cov_1lc8m181pw().f[1]++;const patternPseudo=(cov_1lc8m181pw().s[10]++,/^([a-zA-Z0-9-_]{2,36})$/);cov_1lc8m181pw().s[11]++;if(!username){cov_1lc8m181pw().b[2][0]++;cov_1lc8m181pw().s[12]++;errors.push({username:"Le pseudo et requis"});cov_1lc8m181pw().s[13]++;hasErrors=true;}else{cov_1lc8m181pw().b[2][1]++;cov_1lc8m181pw().s[14]++;if(patternPseudo.test(username)===false){cov_1lc8m181pw().b[3][0]++;cov_1lc8m181pw().s[15]++;errors.push({username:"Pseudo non valide"});cov_1lc8m181pw().s[16]++;hasErrors=true;}else{cov_1lc8m181pw().b[3][1]++;}}};function emailValidator(email){cov_1lc8m181pw().f[2]++;const patternEmail=(cov_1lc8m181pw().s[17]++,/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/);cov_1lc8m181pw().s[18]++;if(!email){cov_1lc8m181pw().b[4][0]++;cov_1lc8m181pw().s[19]++;errors.push({email:"L'email et requis"});cov_1lc8m181pw().s[20]++;hasErrors=true;}else{cov_1lc8m181pw().b[4][1]++;cov_1lc8m181pw().s[21]++;if(patternEmail.test(email)===false){cov_1lc8m181pw().b[5][0]++;cov_1lc8m181pw().s[22]++;errors.push({email:"Email non valide"});cov_1lc8m181pw().s[23]++;hasErrors=true;}else{cov_1lc8m181pw().b[5][1]++;}}};function passwordValidator(password){cov_1lc8m181pw().f[3]++;const patternPassword=(cov_1lc8m181pw().s[24]++,/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/);cov_1lc8m181pw().s[25]++;if(!password){cov_1lc8m181pw().b[6][0]++;cov_1lc8m181pw().s[26]++;errors.push({password:"Le password et requis"});cov_1lc8m181pw().s[27]++;hasErrors=true;}else{cov_1lc8m181pw().b[6][1]++;cov_1lc8m181pw().s[28]++;if(patternPassword.test(password)===false){cov_1lc8m181pw().b[7][0]++;cov_1lc8m181pw().s[29]++;errors.push({password:"Password non valide"});cov_1lc8m181pw().s[30]++;hasErrors=true;}else{cov_1lc8m181pw().b[7][1]++;}}};};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZ2lzdGVyVmFsaWRhdG9yLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGFzRXJyb3JzIiwiZXJyb3JzIiwicHNldWRvVmFsaWRhdG9yIiwiYm9keSIsInVzZXJuYW1lIiwiZW1haWxWYWxpZGF0b3IiLCJlbWFpbCIsImlzQWN0aXZlIiwicGFzc3dvcmRWYWxpZGF0b3IiLCJwYXNzd29yZCIsInN0YXR1cyIsImpzb24iLCJwYXR0ZXJuUHNldWRvIiwicHVzaCIsInRlc3QiLCJwYXR0ZXJuRW1haWwiLCJwYXR0ZXJuUGFzc3dvcmQiXSwibWFwcGluZ3MiOiJBQUFBLGEsd3JKQWVZO21IQWJaQSxNQUFNLENBQUNDLE9BQVAsQ0FBaUIsQ0FBQ0MsR0FBRCxDQUFNQyxHQUFOLENBQVdDLElBQVgsR0FBb0IseUJBQ2pDLEdBQUlDLENBQUFBLFNBQVMsMEJBQUcsS0FBSCxDQUFiLENBQ0EsR0FBSUMsQ0FBQUEsTUFBTSwwQkFBRyxFQUFILENBQVYsQ0FGaUMsd0JBR2pDQyxlQUFlLENBQUNMLEdBQUcsQ0FBQ00sSUFBSixDQUFTQyxRQUFWLENBQWYsQ0FIaUMsd0JBSWpDQyxjQUFjLENBQUNSLEdBQUcsQ0FBQ00sSUFBSixDQUFTRyxLQUFWLENBQWQsQ0FKaUMsd0JBTWpDLEdBQUlULEdBQUcsQ0FBQ00sSUFBSixDQUFTSSxRQUFULEdBQXNCLElBQTFCLENBQWdDLG9EQUU1QkMsaUJBQWlCLENBQUNYLEdBQUcsQ0FBQ00sSUFBSixDQUFTTSxRQUFWLENBQWpCLENBRUgsQ0FKRCxpQ0FOaUMsd0JBWWpDLEdBQUlULFNBQVMsR0FBSyxJQUFsQixDQUF3QixvREFDcEJGLEdBQUcsQ0FBQ1ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLENBQ2pCVixNQUFNLENBQUVBLE1BRFMsQ0FBckIsRUFHSCxDQUpELElBSU8sb0RBQ0hGLElBQUksR0FDUCxDQUVELFFBQVNHLENBQUFBLGVBQVQsQ0FBeUJFLFFBQXpCLENBQW1DLHlCQUMvQixLQUFNUSxDQUFBQSxhQUFhLDJCQUFHLHlCQUFILENBQW5CLENBRCtCLHlCQUUvQixHQUFJLENBQUNSLFFBQUwsQ0FBZSxxREFDWEgsTUFBTSxDQUFDWSxJQUFQLENBQVksQ0FDUlQsUUFBUSxDQUFFLHFCQURGLENBQVosRUFEVyx5QkFJWEosU0FBUyxDQUFHLElBQVosQ0FDSCxDQUxELElBS08sd0RBQUlZLGFBQWEsQ0FBQ0UsSUFBZCxDQUFtQlYsUUFBbkIsSUFBaUMsS0FBckMsQ0FBNEMscURBQy9DSCxNQUFNLENBQUNZLElBQVAsQ0FBWSxDQUNSVCxRQUFRLENBQUUsbUJBREYsQ0FBWixFQUQrQyx5QkFJL0NKLFNBQVMsQ0FBRyxJQUFaLENBQ0gsQ0FMTSxpQ0FLTixDQUNKLEVBRUQsUUFBU0ssQ0FBQUEsY0FBVCxDQUF3QkMsS0FBeEIsQ0FBK0IseUJBQzNCLEtBQU1TLENBQUFBLFlBQVksMkJBQUcsa0NBQUgsQ0FBbEIsQ0FEMkIseUJBRTNCLEdBQUksQ0FBQ1QsS0FBTCxDQUFZLHFEQUNSTCxNQUFNLENBQUNZLElBQVAsQ0FBWSxDQUNSUCxLQUFLLENBQUUsbUJBREMsQ0FBWixFQURRLHlCQUlSTixTQUFTLENBQUcsSUFBWixDQUNILENBTEQsSUFLTyx3REFBSWUsWUFBWSxDQUFDRCxJQUFiLENBQWtCUixLQUFsQixJQUE2QixLQUFqQyxDQUF3QyxxREFDM0NMLE1BQU0sQ0FBQ1ksSUFBUCxDQUFZLENBQ1JQLEtBQUssQ0FBRSxrQkFEQyxDQUFaLEVBRDJDLHlCQUkzQ04sU0FBUyxDQUFHLElBQVosQ0FDSCxDQUxNLGlDQUtOLENBQ0osRUFFRCxRQUFTUSxDQUFBQSxpQkFBVCxDQUEyQkMsUUFBM0IsQ0FBcUMseUJBQ2pDLEtBQU1PLENBQUFBLGVBQWUsMkJBQUcsZ0VBQUgsQ0FBckIsQ0FEaUMseUJBRWpDLEdBQUksQ0FBQ1AsUUFBTCxDQUFlLHFEQUNYUixNQUFNLENBQUNZLElBQVAsQ0FBWSxDQUNSSixRQUFRLENBQUUsdUJBREYsQ0FBWixFQURXLHlCQUlYVCxTQUFTLENBQUcsSUFBWixDQUNILENBTEQsSUFLTyx3REFDSGdCLGVBQWUsQ0FBQ0YsSUFBaEIsQ0FBcUJMLFFBQXJCLElBQW1DLEtBRGhDLENBRUwscURBQ0VSLE1BQU0sQ0FBQ1ksSUFBUCxDQUFZLENBQ1JKLFFBQVEsQ0FBRSxxQkFERixDQUFaLEVBREYseUJBSUVULFNBQVMsQ0FBRyxJQUFaLENBQ0gsQ0FQTSxpQ0FPTixDQUNKLEVBRUosQ0FuRUQiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBsZXQgaGFzRXJyb3JzID0gZmFsc2U7XG4gICAgbGV0IGVycm9ycyA9IFtdO1xuICAgIHBzZXVkb1ZhbGlkYXRvcihyZXEuYm9keS51c2VybmFtZSlcbiAgICBlbWFpbFZhbGlkYXRvcihyZXEuYm9keS5lbWFpbClcblxuICAgIGlmIChyZXEuYm9keS5pc0FjdGl2ZSA9PT0gdHJ1ZSkge1xuXG4gICAgICAgIHBhc3N3b3JkVmFsaWRhdG9yKHJlcS5ib2R5LnBhc3N3b3JkKVxuICAgICAgIFxuICAgIH1cblxuICAgIGlmIChoYXNFcnJvcnMgPT09IHRydWUpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MjIpLmpzb24oe1xuICAgICAgICAgICAgZXJyb3JzOiBlcnJvcnMsXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHQoKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBzZXVkb1ZhbGlkYXRvcih1c2VybmFtZSkge1xuICAgICAgICBjb25zdCBwYXR0ZXJuUHNldWRvID0gL14oW2EtekEtWjAtOS1fXXsyLDM2fSkkLztcbiAgICAgICAgaWYgKCF1c2VybmFtZSkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBcIkxlIHBzZXVkbyBldCByZXF1aXNcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBoYXNFcnJvcnMgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHBhdHRlcm5Qc2V1ZG8udGVzdCh1c2VybmFtZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IFwiUHNldWRvIG5vbiB2YWxpZGVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBoYXNFcnJvcnMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGVtYWlsVmFsaWRhdG9yKGVtYWlsKSB7XG4gICAgICAgIGNvbnN0IHBhdHRlcm5FbWFpbCA9IC9eW1xcdy1cXC5dK0AoW1xcdy1dK1xcLikrW1xcdy1dezIsNH0kLztcbiAgICAgICAgaWYgKCFlbWFpbCkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgIGVtYWlsOiBcIkwnZW1haWwgZXQgcmVxdWlzXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaGFzRXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXR0ZXJuRW1haWwudGVzdChlbWFpbCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgZW1haWw6IFwiRW1haWwgbm9uIHZhbGlkZVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGhhc0Vycm9ycyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcGFzc3dvcmRWYWxpZGF0b3IocGFzc3dvcmQpIHtcbiAgICAgICAgY29uc3QgcGF0dGVyblBhc3N3b3JkID0gL14oPz0uKlthLXpdKSg/PS4qW0EtWl0pKD89LipbMC05XSkoPz0uKlshQCNcXCQlXFxeJlxcKl0pKD89Lns4LH0pLztcbiAgICAgICAgaWYgKCFwYXNzd29yZCkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBcIkxlIHBhc3N3b3JkIGV0IHJlcXVpc1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGhhc0Vycm9ycyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBwYXR0ZXJuUGFzc3dvcmQudGVzdChwYXNzd29yZCkgPT09IGZhbHNlXG4gICAgICAgICkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBcIlBhc3N3b3JkIG5vbiB2YWxpZGVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBoYXNFcnJvcnMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxufTsiXX0=