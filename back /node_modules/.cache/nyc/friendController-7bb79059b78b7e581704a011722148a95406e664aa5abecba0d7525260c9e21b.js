function cov_2bc92avfjw(){var path="/home/noydono/Documents/Git/Pangolin/back/app/controllers/friendController.js";var hash="1eff221528d1537ef3061f674f4f0d67afc3c8dd";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/noydono/Documents/Git/Pangolin/back/app/controllers/friendController.js",statementMap:{"0":{start:{line:1,column:22},end:{line:1,column:56}},"1":{start:{line:3,column:0},end:{line:99,column:2}},"2":{start:{line:6,column:8},end:{line:16,column:14}},"3":{start:{line:15,column:16},end:{line:15,column:46}},"4":{start:{line:21,column:8},end:{line:38,column:14}},"5":{start:{line:27,column:16},end:{line:36,column:17}},"6":{start:{line:28,column:20},end:{line:33,column:22}},"7":{start:{line:35,column:20},end:{line:35,column:49}},"8":{start:{line:43,column:8},end:{line:65,column:14}},"9":{start:{line:55,column:16},end:{line:64,column:17}},"10":{start:{line:56,column:20},end:{line:61,column:22}},"11":{start:{line:63,column:20},end:{line:63,column:42}},"12":{start:{line:71,column:8},end:{line:95,column:14}},"13":{start:{line:85,column:16},end:{line:94,column:17}},"14":{start:{line:86,column:20},end:{line:91,column:22}},"15":{start:{line:93,column:20},end:{line:93,column:42}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:26},end:{line:17,column:5}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:15},end:{line:14,column:16}},loc:{start:{line:14,column:34},end:{line:16,column:13}},line:14},"2":{name:"(anonymous_2)",decl:{start:{line:19,column:17},end:{line:19,column:18}},loc:{start:{line:19,column:37},end:{line:39,column:5}},line:19},"3":{name:"(anonymous_3)",decl:{start:{line:26,column:18},end:{line:26,column:19}},loc:{start:{line:26,column:36},end:{line:38,column:13}},line:26},"4":{name:"(anonymous_4)",decl:{start:{line:41,column:15},end:{line:41,column:16}},loc:{start:{line:41,column:35},end:{line:67,column:5}},line:41},"5":{name:"(anonymous_5)",decl:{start:{line:54,column:12},end:{line:54,column:13}},loc:{start:{line:54,column:31},end:{line:65,column:13}},line:54},"6":{name:"(anonymous_6)",decl:{start:{line:69,column:20},end:{line:69,column:21}},loc:{start:{line:69,column:40},end:{line:97,column:5}},line:69},"7":{name:"(anonymous_7)",decl:{start:{line:84,column:12},end:{line:84,column:13}},loc:{start:{line:84,column:31},end:{line:95,column:13}},line:84}},branchMap:{"0":{loc:{start:{line:27,column:16},end:{line:36,column:17}},type:"if",locations:[{start:{line:27,column:16},end:{line:36,column:17}},{start:{line:27,column:16},end:{line:36,column:17}}],line:27},"1":{loc:{start:{line:55,column:16},end:{line:64,column:17}},type:"if",locations:[{start:{line:55,column:16},end:{line:64,column:17}},{start:{line:55,column:16},end:{line:64,column:17}}],line:55},"2":{loc:{start:{line:85,column:16},end:{line:94,column:17}},type:"if",locations:[{start:{line:85,column:16},end:{line:94,column:17}},{start:{line:85,column:16},end:{line:94,column:17}}],line:85}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1eff221528d1537ef3061f674f4f0d67afc3c8dd"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2bc92avfjw=function(){return actualCoverage;};}return actualCoverage;}cov_2bc92avfjw();const PangolinModel=(cov_2bc92avfjw().s[0]++,require("../models/PangolinModel"));cov_2bc92avfjw().s[1]++;module.exports={getAll:(req,res)=>{cov_2bc92avfjw().f[0]++;cov_2bc92avfjw().s[2]++;PangolinModel.find({},["_id","isValide","username","food","race","famille"],(err,pangolin)=>{cov_2bc92avfjw().f[1]++;cov_2bc92avfjw().s[3]++;res.status(200).json(pangolin);});},getMyFriend:async(req,res)=>{cov_2bc92avfjw().f[2]++;cov_2bc92avfjw().s[4]++;await PangolinModel.findByIdAndUpdate(req.params.id).populate({path:'Friend'}).exec((err,friends)=>{cov_2bc92avfjw().f[3]++;cov_2bc92avfjw().s[5]++;if(err){cov_2bc92avfjw().b[0][0]++;cov_2bc92avfjw().s[6]++;res.status(422).json({errors:[{getMyFriend:"l'une ou les deux id ne sont pas correct"}]});}else{cov_2bc92avfjw().b[0][1]++;cov_2bc92avfjw().s[7]++;res.status(200).json(friends);}});},addFriend:async(req,res)=>{cov_2bc92avfjw().f[4]++;cov_2bc92avfjw().s[8]++;PangolinModel.findByIdAndUpdate(req.params.id,{$push:{friends:{_id:req.body._id,username:req.body.username}}},{new:true},(err,pangolin)=>{cov_2bc92avfjw().f[5]++;cov_2bc92avfjw().s[9]++;if(err){cov_2bc92avfjw().b[1][0]++;cov_2bc92avfjw().s[10]++;res.status(422).json({errors:[{addFriend:"l'une ou les deux id ne sont pas correct"}]});}else{cov_2bc92avfjw().b[1][1]++;cov_2bc92avfjw().s[11]++;res.status(200).json();}});},deleteMyFriend:async(req,res)=>{cov_2bc92avfjw().f[6]++;cov_2bc92avfjw().s[12]++;await PangolinModel.findByIdAndUpdate(req.params.id,{$pull:{friends:{_id:req.body._id,username:req.body.username}}},{new:true},(err,pangolin)=>{cov_2bc92avfjw().f[7]++;cov_2bc92avfjw().s[13]++;if(err){cov_2bc92avfjw().b[2][0]++;cov_2bc92avfjw().s[14]++;res.status(422).json({errors:[{removeFriend:"l'une ou les deux id ne sont pas correct"}]});}else{cov_2bc92avfjw().b[2][1]++;cov_2bc92avfjw().s[15]++;res.status(200).json();}});}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZyaWVuZENvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiUGFuZ29saW5Nb2RlbCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwiZ2V0QWxsIiwicmVxIiwicmVzIiwiZmluZCIsImVyciIsInBhbmdvbGluIiwic3RhdHVzIiwianNvbiIsImdldE15RnJpZW5kIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJwYXJhbXMiLCJpZCIsInBvcHVsYXRlIiwicGF0aCIsImV4ZWMiLCJmcmllbmRzIiwiZXJyb3JzIiwiYWRkRnJpZW5kIiwiJHB1c2giLCJfaWQiLCJib2R5IiwidXNlcm5hbWUiLCJuZXciLCJkZWxldGVNeUZyaWVuZCIsIiRwdWxsIiwicmVtb3ZlRnJpZW5kIl0sIm1hcHBpbmdzIjoidzVHQWVZOzJGQWZaLEtBQU1BLENBQUFBLGFBQWEsMEJBQUdDLE9BQU8sQ0FBQyx5QkFBRCxDQUFWLENBQW5CLEMsd0JBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQixDQUViQyxNQUFNLENBQUUsQ0FBQ0MsR0FBRCxDQUFNQyxHQUFOLEdBQWMsaURBQ2xCTixhQUFhLENBQUNPLElBQWQsQ0FBbUIsRUFBbkIsQ0FDSSxDQUNJLEtBREosQ0FFSSxVQUZKLENBR0ksVUFISixDQUlJLE1BSkosQ0FLSSxNQUxKLENBTUksU0FOSixDQURKLENBUU8sQ0FBQ0MsR0FBRCxDQUFNQyxRQUFOLEdBQW1CLGlEQUNsQkgsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJGLFFBQXJCLEVBQ0gsQ0FWTCxFQVdILENBZFksQ0FnQmJHLFdBQVcsQ0FBRSxNQUFPUCxHQUFQLENBQVlDLEdBQVosR0FBb0IsaURBRTdCLEtBQU1OLENBQUFBLGFBQWEsQ0FDZGEsaUJBREMsQ0FDaUJSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXQyxFQUQ1QixFQUVEQyxRQUZDLENBRVEsQ0FDTkMsSUFBSSxDQUFFLFFBREEsQ0FGUixFQUtEQyxJQUxDLENBS0ksQ0FBQ1YsR0FBRCxDQUFNVyxPQUFOLEdBQWtCLGlEQUNwQixHQUFJWCxHQUFKLENBQVMsb0RBQ0xGLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLENBQ2pCUyxNQUFNLENBQ04sQ0FBQyxDQUNHUixXQUFXLENBQUUsMENBRGhCLENBQUQsQ0FGaUIsQ0FBckIsRUFNSCxDQVBELElBT08sb0RBQ0hOLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCUSxPQUFyQixFQUNILENBRUosQ0FqQkMsQ0FBTixDQWtCSCxDQXBDWSxDQXNDYkUsU0FBUyxDQUFFLE1BQU9oQixHQUFQLENBQVlDLEdBQVosR0FBb0IsaURBRTNCTixhQUFhLENBQUNhLGlCQUFkLENBQWdDUixHQUFHLENBQUNTLE1BQUosQ0FBV0MsRUFBM0MsQ0FBK0MsQ0FDdkNPLEtBQUssQ0FBRSxDQUNISCxPQUFPLENBQUUsQ0FDTEksR0FBRyxDQUFFbEIsR0FBRyxDQUFDbUIsSUFBSixDQUFTRCxHQURULENBRUxFLFFBQVEsQ0FBRXBCLEdBQUcsQ0FBQ21CLElBQUosQ0FBU0MsUUFGZCxDQUROLENBRGdDLENBQS9DLENBUUksQ0FDSUMsR0FBRyxDQUFFLElBRFQsQ0FSSixDQVdJLENBQUNsQixHQUFELENBQU1DLFFBQU4sR0FBbUIsaURBQ2YsR0FBSUQsR0FBSixDQUFTLHFEQUNMRixHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixDQUNqQlMsTUFBTSxDQUNOLENBQUMsQ0FDR0MsU0FBUyxDQUFFLDBDQURkLENBQUQsQ0FGaUIsQ0FBckIsRUFNSCxDQVBELElBT08scURBQ0hmLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLEdBQ0gsQ0FDSixDQXRCTCxFQXdCSCxDQWhFWSxDQWtFYmdCLGNBQWMsQ0FBRSxNQUFPdEIsR0FBUCxDQUFZQyxHQUFaLEdBQW9CLGtEQUVoQyxLQUFNTixDQUFBQSxhQUFhLENBQUNhLGlCQUFkLENBQWdDUixHQUFHLENBQUNTLE1BQUosQ0FBV0MsRUFBM0MsQ0FBK0MsQ0FDN0NhLEtBQUssQ0FDTCxDQUNJVCxPQUFPLENBQ1AsQ0FDSUksR0FBRyxDQUFFbEIsR0FBRyxDQUFDbUIsSUFBSixDQUFTRCxHQURsQixDQUVJRSxRQUFRLENBQUVwQixHQUFHLENBQUNtQixJQUFKLENBQVNDLFFBRnZCLENBRkosQ0FGNkMsQ0FBL0MsQ0FVRixDQUNJQyxHQUFHLENBQUUsSUFEVCxDQVZFLENBYUYsQ0FBQ2xCLEdBQUQsQ0FBTUMsUUFBTixHQUFtQixrREFDZixHQUFJRCxHQUFKLENBQVMscURBQ0xGLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLENBQ2pCUyxNQUFNLENBQ04sQ0FBQyxDQUNHUyxZQUFZLENBQUUsMENBRGpCLENBQUQsQ0FGaUIsQ0FBckIsRUFNSCxDQVBELElBT08scURBQ0h2QixHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixHQUNILENBQ0osQ0F4QkMsQ0FBTixDQTBCSCxDQTlGWSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFBhbmdvbGluTW9kZWwgPSByZXF1aXJlKFwiLi4vbW9kZWxzL1BhbmdvbGluTW9kZWxcIilcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cbiAgICBnZXRBbGw6IChyZXEsIHJlcykgPT4ge1xuICAgICAgICBQYW5nb2xpbk1vZGVsLmZpbmQoe30sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgXCJfaWRcIixcbiAgICAgICAgICAgICAgICBcImlzVmFsaWRlXCIsXG4gICAgICAgICAgICAgICAgXCJ1c2VybmFtZVwiLFxuICAgICAgICAgICAgICAgIFwiZm9vZFwiLFxuICAgICAgICAgICAgICAgIFwicmFjZVwiLFxuICAgICAgICAgICAgICAgIFwiZmFtaWxsZVwiXG4gICAgICAgICAgICBdLCAoZXJyLCBwYW5nb2xpbikgPT4ge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHBhbmdvbGluKVxuICAgICAgICAgICAgfSlcbiAgICB9LFxuXG4gICAgZ2V0TXlGcmllbmQ6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuXG4gICAgICAgIGF3YWl0IFBhbmdvbGluTW9kZWxcbiAgICAgICAgICAgIC5maW5kQnlJZEFuZFVwZGF0ZShyZXEucGFyYW1zLmlkKVxuICAgICAgICAgICAgLnBvcHVsYXRlKHtcbiAgICAgICAgICAgICAgICBwYXRoOiAnRnJpZW5kJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZXhlYygoZXJyLCBmcmllbmRzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQyMikuanNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnM6IFxuICAgICAgICAgICAgICAgICAgICAgICAgW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRNeUZyaWVuZDogXCJsJ3VuZSBvdSBsZXMgZGV1eCBpZCBuZSBzb250IHBhcyBjb3JyZWN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oZnJpZW5kcylcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pXG4gICAgfSxcblxuICAgIGFkZEZyaWVuZDogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG5cbiAgICAgICAgUGFuZ29saW5Nb2RlbC5maW5kQnlJZEFuZFVwZGF0ZShyZXEucGFyYW1zLmlkLCB7XG4gICAgICAgICAgICAgICAgJHB1c2g6IHtcbiAgICAgICAgICAgICAgICAgICAgZnJpZW5kczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiByZXEuYm9keS5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogcmVxLmJvZHkudXNlcm5hbWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5ldzogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoZXJyLCBwYW5nb2xpbikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MjIpLmpzb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzOiBcbiAgICAgICAgICAgICAgICAgICAgICAgIFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkRnJpZW5kOiBcImwndW5lIG91IGxlcyBkZXV4IGlkIG5lIHNvbnQgcGFzIGNvcnJlY3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbigpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcblxuICAgIH0sXG5cbiAgICBkZWxldGVNeUZyaWVuZDogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG5cbiAgICAgICAgYXdhaXQgUGFuZ29saW5Nb2RlbC5maW5kQnlJZEFuZFVwZGF0ZShyZXEucGFyYW1zLmlkLCB7XG4gICAgICAgICAgICAgICAgJHB1bGw6IFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZnJpZW5kczogXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogcmVxLmJvZHkuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHJlcS5ib2R5LnVzZXJuYW1lXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuZXc6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGVyciwgcGFuZ29saW4pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDIyKS5qc29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yczogXG4gICAgICAgICAgICAgICAgICAgICAgICBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUZyaWVuZDogXCJsJ3VuZSBvdSBsZXMgZGV1eCBpZCBuZSBzb250IHBhcyBjb3JyZWN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG5cbiAgICB9LFxuXG59OyJdfQ==